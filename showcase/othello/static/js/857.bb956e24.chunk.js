(()=>{"use strict";var t={8857:(t,e,n)=>{n.a(t,(async(t,e)=>{try{var r=n(6915),_=t([r]);function s(t){const e=t.data;if("start"===e.type)switch(e.agentSettings.type){case"random":{const t=r.mk.from_js_value(JSON.parse(e.gameStateString)).actions_vec(),n=t[Math.floor(Math.random()*t.length)],_={type:"ready",playerActionId:e.playerActionId,playerActionString:JSON.stringify(n.to_js_value())};self.postMessage(_);break}case"negaScout":{const t=r.mk.from_js_value(JSON.parse(e.gameStateString)),n=t.actions_vec();let _;_=1===n.length?n[0]:(0,r.Hz)(t,e.agentSettings.depth);const a={type:"ready",playerActionId:e.playerActionId,playerActionString:JSON.stringify(_.to_js_value())};self.postMessage(a);break}default:console.error("Unexpected agent type:",e.agentSettings)}else console.error("Unexpected message type:",e.type)}r=(_.then?(await _)():_)[0],self.onmessage=s,e()}catch(a){e(a)}}))},6915:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.d(e,{Hz:()=>a.Hz,mk:()=>a.mk});var _=n(9504),a=n(3645),s=t([_]);_=(s.then?(await s)():s)[0],(0,a.lI)(_),r()}catch(o){r(o)}}))},3645:(t,e,n)=>{let r;function _(t){r=t}n.d(e,{$Z:()=>V,B7:()=>G,BZ:()=>L,DK:()=>H,Fm:()=>Y,Gu:()=>M,Hz:()=>k,Nh:()=>W,O$:()=>$,OZ:()=>K,Py:()=>_t,QD:()=>et,Qn:()=>rt,Rj:()=>F,Tp:()=>J,U8:()=>R,Wv:()=>X,bk:()=>N,g_:()=>Q,lI:()=>_,mk:()=>E,ot:()=>C,qN:()=>q,qY:()=>tt,qv:()=>T,rl:()=>nt,sW:()=>z,sy:()=>I,vU:()=>D,yc:()=>Z,zE:()=>P}),t=n.hmd(t);const a=new Array(128).fill(void 0);function s(t){return a[t]}a.push(void 0,null,!0,!1);let o=a.length;function i(t){const e=s(t);return function(t){t<132||(a[t]=o,o=t)}(t),e}let c=0,g=null;function u(){return null!==g&&0!==g.byteLength||(g=new Uint8Array(r.memory.buffer)),g}let l=new("undefined"===typeof TextEncoder?(0,t.require)("util").TextEncoder:TextEncoder)("utf-8");const b="function"===typeof l.encodeInto?function(t,e){return l.encodeInto(t,e)}:function(t,e){const n=l.encode(t);return e.set(n),{read:t.length,written:n.length}};function f(t,e,n){if(void 0===n){const n=l.encode(t),r=e(n.length,1)>>>0;return u().subarray(r,r+n.length).set(n),c=n.length,r}let r=t.length,_=e(r,1)>>>0;const a=u();let s=0;for(;s<r;s++){const e=t.charCodeAt(s);if(e>127)break;a[_+s]=e}if(s!==r){0!==s&&(t=t.slice(s)),_=n(_,r,r=s+3*t.length,1)>>>0;const e=u().subarray(_+s,_+r);s+=b(t,e).written,_=n(_,r,s,1)>>>0}return c=s,_}function p(t){return void 0===t||null===t}let w=null;function d(){return null!==w&&0!==w.byteLength||(w=new Int32Array(r.memory.buffer)),w}let y=null;let m=new("undefined"===typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function h(t,e){return t>>>=0,m.decode(u().subarray(t,t+e))}function v(t){o===a.length&&a.push(a.length+1);const e=o;return o=a[e],a[e]=t,e}function j(t){const e=typeof t;if("number"==e||"boolean"==e||null==t)return"".concat(t);if("string"==e)return'"'.concat(t,'"');if("symbol"==e){const e=t.description;return null==e?"Symbol":"Symbol(".concat(e,")")}if("function"==e){const e=t.name;return"string"==typeof e&&e.length>0?"Function(".concat(e,")"):"Function"}if(Array.isArray(t)){const e=t.length;let n="[";e>0&&(n+=j(t[0]));for(let r=1;r<e;r++)n+=", "+j(t[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(!(n.length>1))return toString.call(t);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(t)+")"}catch(_){return"Object"}return t instanceof Error?"".concat(t.name,": ").concat(t.message,"\n").concat(t.stack):r}m.decode();let x=null;function S(t,e){t>>>=0;const n=(null!==x&&0!==x.byteLength||(x=new Uint32Array(r.memory.buffer)),x).subarray(t/4,t/4+e),_=[];for(let r=0;r<n.length;r++)_.push(i(n[r]));return _}function O(t,e){if(!(t instanceof e))throw new Error("expected instance of ".concat(e.name));return t.ptr}function k(t,e){O(t,E);const n=r.nega_scout(t.__wbg_ptr,e);return B.__wrap(n)}Object.freeze({Black:0,0:"Black",White:1,1:"White"});const A="undefined"===typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>r.__wbg_gamestate_free(t>>>0)));class E{static __wrap(t){t>>>=0;const e=Object.create(E.prototype);return e.__wbg_ptr=t,A.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,A.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_gamestate_free(t)}get current_player(){return r.__wbg_get_gamestate_current_player(this.__wbg_ptr)}set current_player(t){r.__wbg_set_gamestate_current_player(this.__wbg_ptr,t)}get player_discs(){const t=r.__wbg_get_gamestate_player_discs(this.__wbg_ptr);return BigInt.asUintN(64,t)}set player_discs(t){r.__wbg_set_gamestate_player_discs(this.__wbg_ptr,t)}get opponent_discs(){const t=r.__wbg_get_gamestate_opponent_discs(this.__wbg_ptr);return BigInt.asUintN(64,t)}set opponent_discs(t){r.__wbg_set_gamestate_opponent_discs(this.__wbg_ptr,t)}get legal_moves(){const t=r.__wbg_get_gamestate_legal_moves(this.__wbg_ptr);return BigInt.asUintN(64,t)}set legal_moves(t){r.__wbg_set_gamestate_legal_moves(this.__wbg_ptr,t)}get was_pass(){return 0!==r.__wbg_get_gamestate_was_pass(this.__wbg_ptr)}set was_pass(t){r.__wbg_set_gamestate_was_pass(this.__wbg_ptr,t)}get is_endgame(){return 0!==r.__wbg_get_gamestate_is_endgame(this.__wbg_ptr)}set is_endgame(t){r.__wbg_set_gamestate_is_endgame(this.__wbg_ptr,t)}static initial_state(){const t=r.gamestate_initial_state();return E.__wrap(t)}static from_js_value(t){const e=r.gamestate_from_js_value(v(t));return E.__wrap(e)}to_js_value(){return i(r.gamestate_to_js_value(this.__wbg_ptr))}actions_vec(){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.gamestate_actions_vec(_,this.__wbg_ptr);var t=d()[_/4+0],e=d()[_/4+1],n=S(t,e).slice();return r.__wbindgen_free(t,4*e,4),n}finally{r.__wbindgen_add_to_stack_pointer(16)}}apply_action(t){O(t,B);const e=r.gamestate_apply_action(this.__wbg_ptr,t.__wbg_ptr);return E.__wrap(e)}get_disc_at_flat_index(t){const e=r.gamestate_get_disc_at_flat_index(this.__wbg_ptr,t);return 2===e?void 0:e}}const U="undefined"===typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>r.__wbg_playeraction_free(t>>>0)));class B{static __wrap(t){t>>>=0;const e=Object.create(B.prototype);return e.__wbg_ptr=t,U.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,U.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_playeraction_free(t)}get mask(){const t=r.__wbg_get_gamestate_player_discs(this.__wbg_ptr);return BigInt.asUintN(64,t)}set mask(t){r.__wbg_set_gamestate_player_discs(this.__wbg_ptr,t)}static pass(){const t=r.playeraction_pass();return B.__wrap(t)}static move_to_flat_index(t){const e=r.playeraction_move_to_flat_index(t);return B.__wrap(e)}static move_to_row_column(t,e){const n=r.playeraction_move_to_row_column(t,e);return B.__wrap(n)}static from_js_value(t){const e=r.playeraction_from_js_value(v(t));return B.__wrap(e)}to_js_value(){return i(r.playeraction_to_js_value(this.__wbg_ptr))}is_pass(){return 0!==r.playeraction_is_pass(this.__wbg_ptr)}flat_index(){return r.playeraction_flat_index(this.__wbg_ptr)>>>0}}function I(t){return v(B.__wrap(t))}function N(t){i(t)}function q(t,e){const n=s(e),_="string"===typeof n?n:void 0;var a=p(_)?0:f(_,r.__wbindgen_malloc,r.__wbindgen_realloc),o=c;d()[t/4+1]=o,d()[t/4+0]=a}function z(t,e){const n=s(e),_="number"===typeof n?n:void 0;(null!==y&&0!==y.byteLength||(y=new Float64Array(r.memory.buffer)),y)[t/8+1]=p(_)?0:_,d()[t/4+0]=!p(_)}function W(t){const e=s(t);return"boolean"===typeof e?e?1:0:2}function F(t,e){return v(new Error(h(t,e)))}function M(t){return"string"===typeof s(t)}function T(t){const e=s(t);return"object"===typeof e&&null!==e}function D(t){return void 0===s(t)}function P(t,e){return s(t)in s(e)}function R(t,e){return s(t)==s(e)}function Z(t,e){return v(h(t,e))}function J(t,e){return v(s(t)[s(e)])}function H(t,e,n){s(t)[i(e)]=i(n)}function L(t){return v(s(t))}function Q(t,e){return v(s(t)[e>>>0])}function $(t){return s(t).length}function C(){return v(new Object)}function G(t){let e;try{e=s(t)instanceof ArrayBuffer}catch(n){e=!1}return e}function K(t){return v(Object.entries(s(t)))}function Y(t){return v(s(t).buffer)}function V(t){return v(new Uint8Array(s(t)))}function X(t,e,n){s(t).set(s(e),n>>>0)}function tt(t){return s(t).length}function et(t){let e;try{e=s(t)instanceof Uint8Array}catch(n){e=!1}return e}function nt(t,e){const n=f(j(s(e)),r.__wbindgen_malloc,r.__wbindgen_realloc),_=c;d()[t/4+1]=_,d()[t/4+0]=n}function rt(t,e){throw new Error(h(t,e))}function _t(){return v(r.memory)}},9504:(t,e,n)=>{var r=n(3645);t.exports=n.v(e,t.id,"bb6bb2ac7b5fe225df69",{"./othello_rs_bg.js":{__wbg_playeraction_new:r.sy,__wbindgen_object_drop_ref:r.bk,__wbindgen_string_get:r.qN,__wbindgen_number_get:r.sW,__wbindgen_boolean_get:r.Nh,__wbindgen_error_new:r.Rj,__wbindgen_is_string:r.Gu,__wbindgen_is_object:r.qv,__wbindgen_is_undefined:r.vU,__wbindgen_in:r.zE,__wbindgen_jsval_loose_eq:r.U8,__wbindgen_string_new:r.yc,__wbg_getwithrefkey_edc2c8960f0f1191:r.Tp,__wbg_set_f975102236d3c502:r.DK,__wbindgen_object_clone_ref:r.BZ,__wbg_get_bd8e338fbd5f5cc8:r.g_,__wbg_length_cd7af8117672b8b8:r.O$,__wbg_new_72fb9a18b5ae2624:r.ot,__wbg_instanceof_ArrayBuffer_836825be07d4c9d2:r.B7,__wbg_entries_95cc2c823b285a09:r.OZ,__wbg_buffer_12d079cc21e14bdb:r.Fm,__wbg_new_63b92bc8671ed464:r.$Z,__wbg_set_a47bac70306a19a7:r.Wv,__wbg_length_c20a40f15020d68a:r.qY,__wbg_instanceof_Uint8Array_2b3bbecd033d19f6:r.QD,__wbindgen_debug_string:r.rl,__wbindgen_throw:r.Qn,__wbindgen_memory:r.Py}})}},e={};function n(r){var _=e[r];if(void 0!==_)return _.exports;var a=e[r]={id:r,loaded:!1,exports:{}};return t[r](a,a.exports,n),a.loaded=!0,a.exports}(()=>{var t="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",_=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))};n.a=(n,a,s)=>{var o;s&&((o=[]).d=-1);var i,c,g,u=new Set,l=n.exports,b=new Promise(((t,e)=>{g=e,c=t}));b[e]=l,b[t]=t=>(o&&t(o),u.forEach(t),b.catch((t=>{}))),n.exports=b,a((n=>{var a;i=(n=>n.map((n=>{if(null!==n&&"object"===typeof n){if(n[t])return n;if(n.then){var a=[];a.d=0,n.then((t=>{s[e]=t,_(a)}),(t=>{s[r]=t,_(a)}));var s={};return s[t]=t=>t(a),s}}var o={};return o[t]=t=>{},o[e]=n,o})))(n);var s=()=>i.map((t=>{if(t[r])throw t[r];return t[e]})),c=new Promise((e=>{(a=()=>e(s)).r=0;var n=t=>t!==o&&!u.has(t)&&(u.add(t),t&&!t.d&&(a.r++,t.push(a)));i.map((e=>e[t](n)))}));return a.r?c:s()}),(t=>(t?g(b[r]=t):c(l),_(o)))),o&&o.d<0&&(o.d=0)}})(),n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.v=(t,e,r,_)=>{var a=fetch(n.p+""+r+".module.wasm"),s=()=>a.then((t=>t.arrayBuffer())).then((t=>WebAssembly.instantiate(t,_))).then((e=>Object.assign(t,e.instance.exports)));return a.then((e=>"function"===typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(e,_).then((e=>Object.assign(t,e.instance.exports)),(t=>{if("application/wasm"!==e.headers.get("Content-Type"))return console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t),s();throw t})):s()))},n.p="/showcase/othello/";n(8857)})();
//# sourceMappingURL=857.bb956e24.chunk.js.map