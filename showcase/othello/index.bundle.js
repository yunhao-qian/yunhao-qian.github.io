(()=>{"use strict";var t,e,n,r,i={148:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.d(e,{Uw:()=>a.Uw,ai:()=>a.ai,rc:()=>a.rc});var i=n(504),a=n(800),s=t([i]);i=(s.then?(await s)():s)[0],(0,a.lI)(i),r()}catch(t){r(t)}}))},800:(t,e,n)=>{let r;function i(t){r=t}n.d(e,{Qn:()=>A,Uw:()=>f,ai:()=>p,lI:()=>i,rc:()=>_,xv:()=>b}),t=n.hmd(t);let a=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});a.decode();let s=null;const o=new Array(128).fill(void 0);o.push(void 0,null,!0,!1);let c=o.length,l=null;function u(){return null!==l&&0!==l.byteLength||(l=new Int32Array(r.memory.buffer)),l}let d=null;function h(t){const e=function(t){return o[t]}(t);return function(t){t<132||(o[t]=c,c=t)}(t),e}const p=Object.freeze({Black:0,0:"Black",White:1,1:"White"}),g="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>r.__wbg_action_free(t>>>0)));class _{static __wrap(t){t>>>=0;const e=Object.create(_.prototype);return e.__wbg_ptr=t,g.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,g.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_action_free(t)}get mask(){const t=r.__wbg_get_action_mask(this.__wbg_ptr);return BigInt.asUintN(64,t)}set mask(t){r.__wbg_set_action_mask(this.__wbg_ptr,t)}static from_mask(t){const e=r.action_from_mask(t);return _.__wrap(e)}static pass(){const t=r.action_pass();return _.__wrap(t)}static from_flat_index(t){const e=r.action_from_flat_index(t);return _.__wrap(e)}static from_row_column(t,e){const n=r.action_from_row_column(t,e);return _.__wrap(n)}is_pass(){return 0!==r.action_is_pass(this.__wbg_ptr)}flat_index(){return r.action_flat_index(this.__wbg_ptr)>>>0}row(){return r.action_row(this.__wbg_ptr)>>>0}column(){return r.action_column(this.__wbg_ptr)>>>0}}const m="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>r.__wbg_state_free(t>>>0)));class f{static __wrap(t){t>>>=0;const e=Object.create(f.prototype);return e.__wbg_ptr=t,m.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,m.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_state_free(t)}get current_player(){return r.__wbg_get_state_current_player(this.__wbg_ptr)}set current_player(t){r.__wbg_set_state_current_player(this.__wbg_ptr,t)}get player_discs(){const t=r.__wbg_get_action_mask(this.__wbg_ptr);return BigInt.asUintN(64,t)}set player_discs(t){r.__wbg_set_action_mask(this.__wbg_ptr,t)}get opponent_discs(){const t=r.__wbg_get_state_opponent_discs(this.__wbg_ptr);return BigInt.asUintN(64,t)}set opponent_discs(t){r.__wbg_set_state_opponent_discs(this.__wbg_ptr,t)}get legal_moves(){const t=r.__wbg_get_state_legal_moves(this.__wbg_ptr);return BigInt.asUintN(64,t)}set legal_moves(t){r.__wbg_set_state_legal_moves(this.__wbg_ptr,t)}get was_pass(){return 0!==r.__wbg_get_state_was_pass(this.__wbg_ptr)}set was_pass(t){r.__wbg_set_state_was_pass(this.__wbg_ptr,t)}get is_endgame(){return 0!==r.__wbg_get_state_is_endgame(this.__wbg_ptr)}set is_endgame(t){r.__wbg_set_state_is_endgame(this.__wbg_ptr,t)}static new(){const t=r.state_new();return f.__wrap(t)}step(t){!function(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);t.ptr}(t,_);var e=t.__destroy_into_raw();const n=r.state_step(this.__wbg_ptr,e);return f.__wrap(n)}legal_move_vec(){try{const i=r.__wbindgen_add_to_stack_pointer(-16);r.state_legal_move_vec(i,this.__wbg_ptr);var t=u()[i/4+0],e=u()[i/4+1],n=function(t,e){t>>>=0;const n=(null!==d&&0!==d.byteLength||(d=new Uint32Array(r.memory.buffer)),d).subarray(t/4,t/4+e),i=[];for(let t=0;t<n.length;t++)i.push(h(n[t]));return i}(t,e).slice();return r.__wbindgen_free(t,4*e,4),n}finally{r.__wbindgen_add_to_stack_pointer(16)}}get_disc(t,e){const n=r.state_get_disc(this.__wbg_ptr,t,e);return 2===n?void 0:n}}function b(t){return function(t){c===o.length&&o.push(o.length+1);const e=c;return c=o[e],o[e]=t,e}(_.__wrap(t))}function A(t,e){throw new Error((n=t,i=e,n>>>=0,a.decode((null!==s&&0!==s.byteLength||(s=new Uint8Array(r.memory.buffer)),s).subarray(n,n+i))));var n,i}},208:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(354),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,"html {\n  height: 100%;\n  background-color: rgb(34, 34, 34);\n}\n\nbody {\n  height: 100%;\n  margin: 0;\n\n  /* Set the body to be a flex container. */\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n}\n\n#game-controls-container {\n  /* Fixed 48px height. */\n  flex: 0 1 48px;\n}\n\n#game-svg-container {\n  /* Occupy the remaining space left by the game controls. */\n  flex: 1 1 0px;\n\n  container: game-svg-container-layout / size;\n\n  /* Set position to relative to make the container be the SVG's containing block.\n   * https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block */\n  position: relative;\n}\n\n#game-svg {\n  /* Maintain the aspect ratio of an SVG in a container.\n   * https://stackoverflow.com/a/66786774 */\n  aspect-ratio: 1/1;\n\n  /* Occupy the entire width if width <= height. */\n  width: 100%;\n  height: auto;\n\n  /* Center the SVG horizontally and vertically.\n   * https://stackoverflow.com/a/23703655 */\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  /* Relative to the transformed element's own bounding box. */\n  transform: translate(-50%, -50%);\n}\n\n/* Occupy the entire height if width > height. */\n@container game-svg-container-layout (aspect-ratio > 1/1) {\n  #game-svg {\n    width: auto;\n    height: 100%;\n  }\n}\n\n/* Prevent users from accidentally select the texts. */\n#game-svg text {\n  /* user-select does not work on SVG texts in Safari. */\n  -webkit-user-select: none;\n  user-select: none;\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,iCAAiC;AACnC;;AAEA;EACE,YAAY;EACZ,SAAS;;EAET,yCAAyC;EACzC,aAAa;EACb,sBAAsB;EACtB,oBAAoB;AACtB;;AAEA;EACE,uBAAuB;EACvB,cAAc;AAChB;;AAEA;EACE,0DAA0D;EAC1D,aAAa;;EAEb,2CAA2C;;EAE3C;yGACuG;EACvG,kBAAkB;AACpB;;AAEA;EACE;2CACyC;EACzC,iBAAiB;;EAEjB,gDAAgD;EAChD,WAAW;EACX,YAAY;;EAEZ;2CACyC;EACzC,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,4DAA4D;EAC5D,gCAAgC;AAClC;;AAEA,gDAAgD;AAChD;EACE;IACE,WAAW;IACX,YAAY;EACd;AACF;;AAEA,sDAAsD;AACtD;EACE,sDAAsD;EACtD,yBAAyB;EACzB,iBAAiB;AACnB",sourcesContent:["html {\n  height: 100%;\n  background-color: rgb(34, 34, 34);\n}\n\nbody {\n  height: 100%;\n  margin: 0;\n\n  /* Set the body to be a flex container. */\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n}\n\n#game-controls-container {\n  /* Fixed 48px height. */\n  flex: 0 1 48px;\n}\n\n#game-svg-container {\n  /* Occupy the remaining space left by the game controls. */\n  flex: 1 1 0px;\n\n  container: game-svg-container-layout / size;\n\n  /* Set position to relative to make the container be the SVG's containing block.\n   * https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block */\n  position: relative;\n}\n\n#game-svg {\n  /* Maintain the aspect ratio of an SVG in a container.\n   * https://stackoverflow.com/a/66786774 */\n  aspect-ratio: 1/1;\n\n  /* Occupy the entire width if width <= height. */\n  width: 100%;\n  height: auto;\n\n  /* Center the SVG horizontally and vertically.\n   * https://stackoverflow.com/a/23703655 */\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  /* Relative to the transformed element's own bounding box. */\n  transform: translate(-50%, -50%);\n}\n\n/* Occupy the entire height if width > height. */\n@container game-svg-container-layout (aspect-ratio > 1/1) {\n  #game-svg {\n    width: auto;\n    height: 100%;\n  }\n}\n\n/* Prevent users from accidentally select the texts. */\n#game-svg text {\n  /* user-select does not work on SVG texts in Safari. */\n  -webkit-user-select: none;\n  user-select: none;\n}\n"],sourceRoot:""}]);const o=s},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,a){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(s[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&s[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),e.push(u))}},e}},354:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(i," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},511:(t,e,n)=>{var r=n(72),i=n.n(r),a=n(825),s=n.n(a),o=n(659),c=n.n(o),l=n(56),u=n.n(l),d=n(540),h=n.n(d),p=n(113),g=n.n(p),_=n(208),m={};m.styleTagTransform=g(),m.setAttributes=u(),m.insert=c().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=h(),i()(_.A,m),_.A&&_.A.locals&&_.A.locals},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},s=[],o=0;o<t.length;o++){var c=t[o],l=r.base?c[0]+r.base:c[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var h=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var g=i(p,r);r.byIndex=o,e.splice(o,0,{identifier:d,updater:g,references:1})}s.push(d)}return s}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var a=r(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<a.length;s++){var o=n(a[s]);e[o].references--}for(var c=r(t,i),l=0;l<a.length;l++){var u=n(a[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}a=c}}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},156:(t,e,n)=>{n.a(t,(async(t,e)=>{try{n(511);var r=n(148),i=t([r]);r=(i.then?(await i)():i)[0];var a=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function s(t){try{c(r.next(t))}catch(t){a(t)}}function o(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}c((r=r.apply(t,e||[])).next())}))};function o(){return a(this,void 0,void 0,(function*(){const t=document.querySelector("#game-svg-container"),e=new l(t),n=new u(e.getSVG());t.appendChild(e.getSVG());{let t=r.Uw.new();for(yield e.setSquareStatesFromGameState(t);!t.is_endgame;){const i=t.legal_move_vec();let a;0===i.length?(alert(`${t.current_player} is out of moves`),a=r.rc.pass()):a=yield n.getMove(i),t=t.step(a),yield e.setSquareStatesFromGameState(t)}alert("Game is over!")}}))}const c="http://www.w3.org/2000/svg";var s;!function(t){t[t.Empty=0]="Empty",t[t.Black=1]="Black",t[t.White=2]="White",t[t.BlackLegalMove=3]="BlackLegalMove",t[t.WhiteLegalMove=4]="WhiteLegalMove"}(s||(s={}));class l{constructor(t){this.container=t,this.svg=document.createElementNS(c,"svg"),this.initialize(),this.container.innerHTML="",this.container.appendChild(this.svg)}getSVG(){return this.svg}setSquareStatesFromGameState(t){return a(this,void 0,void 0,(function*(){const e=t.legal_move_vec().map((t=>t.flat_index())),n=t.current_player===r.ai.Black?s.BlackLegalMove:s.WhiteLegalMove;let i=!0;const a=[];for(let o=0;o<8;++o){const c=[];for(let a=0;a<8;++a){let l;switch(t.get_disc(o,a)){case r.ai.Black:l=s.Black;break;case r.ai.White:l=s.White;break;default:{const t=8*o+a;l=e.includes(t)?n:s.Empty}}l!==this.squares[o][a].getState()&&(i=!1),c.push(l)}a.push(c)}if(!i){this.svg.remove();for(let t=0;t<8;++t)for(let e=0;e<8;++e)this.squares[t][e].setState(a[t][e]);this.container.appendChild(this.svg),this.svg.pauseAnimations(),this.svg.setCurrentTime(0),this.svg.unpauseAnimations(),yield new Promise((t=>setTimeout(t,1e3*l.animationDuration)))}}))}static getSquareStateTransitionId(t,e){const n=s[t],r=s[e];return t===e?`square-${n}`:`square-${n}-to-${r}`}initialize(){this.svg.setAttribute("id","game-svg");const t=8*l.squareSize+2*l.marginWidth;this.svg.setAttribute("viewBox",`0 0 ${t} ${t}`),this.svg.innerHTML="",this.createDefs(),this.createBoard(),this.createDiscViews()}createDefs(){const t=document.createElementNS(c,"defs");for(const[e,n,r]of[[l.blackDiscGradientId,"rgb(32, 32, 32)","rgb(24, 24, 24)"],[l.whiteDiscGradientId,"rgb(224, 224, 244)","rgb(168, 168, 168)"]]){const i=document.createElementNS(c,"radialGradient");i.setAttribute("id",e);{const t=document.createElementNS(c,"stop");t.setAttribute("offset","90%"),t.setAttribute("stop-color",n),i.appendChild(t)}{const t=document.createElementNS(c,"stop");t.setAttribute("offset","100%"),t.setAttribute("stop-color",r),i.appendChild(t)}t.appendChild(i)}{const e=document.createElementNS(c,"filter");e.setAttribute("id",l.shadowFilterId);{const t=document.createElementNS(c,"feDropShadow");t.setAttribute("dx","0"),t.setAttribute("dy","0"),t.setAttribute("stdDeviation","0.3"),t.setAttribute("flood-color","black"),t.setAttribute("flood-opacity","1"),e.appendChild(t)}t.appendChild(e)}for(const e in s){const n=Number(e);if(!isNaN(n))for(const e in s){const r=Number(e);isNaN(r)||n===s.Empty&&r===s.Empty||t.appendChild(l.createSquareStateTransition(n,r))}}this.svg.appendChild(t)}createBoard(){{const t=document.createElementNS(c,"rect");for(const e of["x","y"])t.setAttribute(e,l.marginWidth.toString());for(const e of["width","height"])t.setAttribute(e,(8*l.squareSize).toString());t.setAttribute("fill",l.boardBackgroundColor),this.svg.appendChild(t)}{const t=document.createElementNS(c,"g");t.setAttribute("stroke","black"),t.setAttribute("stroke-width",l.gridStrokeWidth.toString());for(let e=0;e<9;++e){const n=l.marginWidth+e*l.squareSize,r=l.marginWidth,i=l.marginWidth+8*l.squareSize;t.appendChild(l.createLine(n,r,n,i)),t.appendChild(l.createLine(r,n,i,n))}this.svg.appendChild(t)}{const t=document.createElementNS(c,"rect");{const e=(l.marginWidth-.5*l.borderStrokeWidth).toString();t.setAttribute("x",e),t.setAttribute("y",e)}{const e=(8*l.squareSize+l.borderStrokeWidth).toString();t.setAttribute("width",e),t.setAttribute("height",e)}{const e=(.5*l.borderStrokeWidth).toString();t.setAttribute("rx",e),t.setAttribute("ry",e)}t.setAttribute("stroke","black"),t.setAttribute("stroke-width",l.borderStrokeWidth.toString()),t.setAttribute("fill","none"),this.svg.appendChild(t)}{const t=document.createElementNS(c,"g");t.setAttribute("fill","black");for(const e of[2,6]){const n=l.marginWidth+e*l.squareSize;for(const e of[2,6]){const r=l.marginWidth+e*l.squareSize,i=document.createElementNS(c,"circle");i.setAttribute("cx",n.toString()),i.setAttribute("cy",r.toString()),i.setAttribute("r",l.dotRadius.toString()),t.appendChild(i)}}this.svg.appendChild(t)}}createDiscViews(){this.squares=[];for(let t=0;t<8;++t){const e=[];for(let n=0;n<8;++n){const r=l.marginWidth+(n+.5)*l.squareSize,i=l.marginWidth+(t+.5)*l.squareSize;e.push(new d(this.svg,r,i))}this.squares.push(e)}}static createSquareStateTransition(t,e){const n=document.createElementNS(c,"g");n.setAttribute("id",l.getSquareStateTransitionId(t,e));const r=l.getDiscVisualProps(t,e),i=l.getDiscVisualProps(e,t),a=document.createElementNS(c,"rect");a.setAttribute("fill","black"),a.setAttribute("filter",`url('#${l.shadowFilterId}')`),n.appendChild(a);const o=document.createElementNS(c,"rect");o.setAttribute("transform","rotate(45, 0, 0)"),n.appendChild(o);const u=document.createElementNS(c,"rect");u.setAttribute("fill",`url('#${l.blackDiscGradientId}')`),n.appendChild(u);const d=document.createElementNS(c,"rect");if(d.setAttribute("fill",`url('#${l.whiteDiscGradientId}')`),n.appendChild(d),!(t!==s.BlackLegalMove&&t!==s.WhiteLegalMove||e!==s.Black&&e!==s.White))for(const t of[a,u,d])t.setAttribute("transform","rotate(45, 0, 0)");if(t===s.Black&&e===s.White||t===s.White&&e===s.Black){const t=document.createElementNS(c,"animateTransform");t.setAttribute("attributeName","transform"),t.setAttribute("attributeType","XML"),t.setAttribute("dur",`${l.animationDuration}s`),t.setAttribute("calcMode","spline"),t.setAttribute("fill","freeze"),t.setAttribute("type","scale"),t.setAttribute("values","1 1; 0.2 1; 1 1"),t.setAttribute("keyTimes","0;0.5;1"),t.setAttribute("keySplines","0.5 0.1 0.9 0.5;0.1 0.5 0.5 0.9");for(const e of[a,u,d])e.appendChild(t.cloneNode())}for(const t of[a,o,u,d]){for(const e of["x","y"])l.addAttributeOrAnimation(t,e,.5*-r.size,.5*-i.size);for(const e of["width","height"])l.addAttributeOrAnimation(t,e,r.size,i.size);for(const e of["rx","ry"])l.addAttributeOrAnimation(t,e,r.cornerRadius,i.cornerRadius)}return l.addAttributeOrAnimation(a,"opacity",r.shadowOpacity,i.shadowOpacity),l.addAttributeOrAnimation(o,"fill",r.legalMoveIndicatorFill,i.legalMoveIndicatorFill),l.addAttributeOrAnimation(o,"fill-opacity",r.legalMoveIndicatorOpacity,i.legalMoveIndicatorOpacity),l.addAttributeOrAnimation(u,"fill-opacity",r.blackDiscOpacity,i.blackDiscOpacity),l.addAttributeOrAnimation(d,"fill-opacity",r.whiteDiscOpacity,i.whiteDiscOpacity),n}static getDiscVisualProps(t,e){if(t===s.Empty&&e===s.Empty)throw new Error("state and counterpart cannot both be empty");let n,r,i,a,o,c,u;if(t===s.Empty){const s=l.getDiscVisualProps(e,t);n=.5*s.size,r=.5*s.cornerRadius,i=0,a=s.legalMoveIndicatorFill,o=0,c=0,u=0}else{switch(t){case s.Black:case s.White:n=2*l.discRadius,r=l.discRadius,i=1,o=0,t===s.Black?(c=1,u=0):(c=0,u=1);break;case s.BlackLegalMove:case s.WhiteLegalMove:n=l.legalMoveSquareSize,r=0,i=0,o=.5,c=0,u=0;break;default:throw new Error("Invalid state")}switch(t){case s.Black:case s.BlackLegalMove:a="black";break;case s.White:case s.WhiteLegalMove:a="white";break;default:throw new Error("Invalid state")}}return{size:n,cornerRadius:r,shadowOpacity:i,legalMoveIndicatorFill:a,legalMoveIndicatorOpacity:o,blackDiscOpacity:c,whiteDiscOpacity:u}}static addAttributeOrAnimation(t,e,n,r){if(n===r)return void t.setAttribute(e,r.toString());const i=document.createElementNS(c,"animate");i.setAttribute("attributeName",e),i.setAttribute("dur",`${l.animationDuration}s`),i.setAttribute("calcMode","spline"),i.setAttribute("fill","freeze"),i.setAttribute("values",`${n};${r}`),i.setAttribute("keyTimes","0;1"),i.setAttribute("keySplines","0.1 0.5 0.5 0.9"),t.appendChild(i)}static createLine(t,e,n,r){const i=document.createElementNS(c,"line");return i.setAttribute("x1",t.toString()),i.setAttribute("y1",e.toString()),i.setAttribute("x2",n.toString()),i.setAttribute("y2",r.toString()),i}}l.squareSize=10,l.marginWidth=3,l.gridStrokeWidth=.2,l.borderStrokeWidth=1,l.dotRadius=.75,l.discRadius=4,l.legalMoveSquareSize=4,l.blackDiscGradientId="black-disc-gradient",l.whiteDiscGradientId="white-disc-gradient",l.shadowFilterId="shadow-filter",l.boardBackgroundColor="rgb(63, 142, 106)",l.animationDuration=.5;class u{constructor(t){this.svg=t,this.onClick=t=>{if(0===this.legalMoveFlatIndices.length){if(null!==this.resolveActionPromise)throw new Error("No legal move is available but an action promise is set");return}if(null===this.resolveActionPromise)throw new Error("Legal moves are available but no action promise is set");const e=new DOMPoint(t.clientX,t.clientY),n=this.svg.getScreenCTM();if(null===n)throw new Error("Failed to get the screen CTM");const i=e.matrixTransform(n.inverse());let a=(i.y-l.marginWidth)/l.squareSize;if(a<0||a>=8)return;a=Math.floor(a);let s=(i.x-l.marginWidth)/l.squareSize;if(s<0||s>=8)return;s=Math.floor(s);const o=8*a+s;if(!this.legalMoveFlatIndices.includes(o))return;this.legalMoveFlatIndices=[];const c=this.resolveActionPromise;this.resolveActionPromise=null,c(r.rc.from_flat_index(o))},this.svg.addEventListener("click",this.onClick),this.legalMoveFlatIndices=[],this.resolveActionPromise=null}[Symbol.dispose](){this.svg.removeEventListener("click",this.onClick)}getMove(t){if(0===t.length)throw new Error("No legal move is available");return this.legalMoveFlatIndices=t.map((t=>t.flat_index())),new Promise((t=>{this.resolveActionPromise=t}))}}class d{constructor(t,e,n){this.svg=t,this.centerX=e,this.centerY=n,this.state=s.Empty,this.useElement=null}getState(){return this.state}setState(t){if(t===s.Empty&&this.state===s.Empty)return void(null!==this.useElement&&(this.useElement.remove(),this.useElement=null));null===this.useElement&&(this.useElement=document.createElementNS(c,"use"),this.svg.appendChild(this.useElement));const e=l.getSquareStateTransitionId(this.state,t);this.useElement.setAttribute("href",`#${e}`),this.useElement.setAttribute("transform",`translate(${this.centerX}, ${this.centerY})`),this.state=t}}o().catch(console.error),e()}catch(h){e(h)}}))},504:(t,e,n)=>{var r=n(800);t.exports=n.v(e,t.id,"baab4132998f0614f037",{"./othello_rs_bg.js":{__wbg_action_new:r.xv,__wbindgen_throw:r.Qn}})}},a={};function s(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={id:t,loaded:!1,exports:{}};return i[t](n,n.exports,s),n.loaded=!0,n.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},s.a=(i,a,s)=>{var o;s&&((o=[]).d=-1);var c,l,u,d=new Set,h=i.exports,p=new Promise(((t,e)=>{u=e,l=t}));p[e]=h,p[t]=t=>(o&&t(o),d.forEach(t),p.catch((t=>{}))),i.exports=p,a((i=>{var a;c=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[t])return i;if(i.then){var a=[];a.d=0,i.then((t=>{s[e]=t,r(a)}),(t=>{s[n]=t,r(a)}));var s={};return s[t]=t=>t(a),s}}var o={};return o[t]=t=>{},o[e]=i,o})))(i);var s=()=>c.map((t=>{if(t[n])throw t[n];return t[e]})),l=new Promise((e=>{(a=()=>e(s)).r=0;var n=t=>t!==o&&!d.has(t)&&(d.add(t),t&&!t.d&&(a.r++,t.push(a)));c.map((e=>e[t](n)))}));return a.r?l:s()}),(t=>(t?u(p[n]=t):l(h),r(o)))),o&&o.d<0&&(o.d=0)},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.v=(t,e,n,r)=>{var i=fetch(s.p+""+n+".module.wasm"),a=()=>i.then((t=>t.arrayBuffer())).then((t=>WebAssembly.instantiate(t,r))).then((e=>Object.assign(t,e.instance.exports)));return i.then((e=>"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(e,r).then((e=>Object.assign(t,e.instance.exports)),(t=>{if("application/wasm"!==e.headers.get("Content-Type"))return console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t),a();throw t})):a()))},(()=>{var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t})(),s.nc=void 0,s(156)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QW9CdUUsUUFBSzVhLEVDR0NxVyxFQUFvQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3RoZWxsby93ZWJwYWNrL3J1bnRpbWUvYXN5bmMgbW9kdWxlIiwid2VicGFjazovL290aGVsbG8vLi4vcnVzdC9wa2cvb3RoZWxsb19ycy5qcyIsIndlYnBhY2s6Ly9vdGhlbGxvLy4uL3J1c3QvcGtnL290aGVsbG9fcnNfYmcuanMiLCJ3ZWJwYWNrOi8vb3RoZWxsby8uL3NyYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vb3RoZWxsby8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vb3RoZWxsby8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL290aGVsbG8vLi9zcmMvc3R5bGUuY3NzPzcxNjMiLCJ3ZWJwYWNrOi8vb3RoZWxsby8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9vdGhlbGxvLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9vdGhlbGxvLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL290aGVsbG8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vb3RoZWxsby8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL290aGVsbG8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9vdGhlbGxvLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL290aGVsbG8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb3RoZWxsby93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9vdGhlbGxvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9vdGhlbGxvL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vb3RoZWxsby93ZWJwYWNrL3J1bnRpbWUvaGFybW9ueSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL290aGVsbG8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vdGhlbGxvL3dlYnBhY2svcnVudGltZS93YXNtIGxvYWRpbmciLCJ3ZWJwYWNrOi8vb3RoZWxsby93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9vdGhlbGxvL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9vdGhlbGxvL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgd2VicGFja1F1ZXVlcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbChcIndlYnBhY2sgcXVldWVzXCIpIDogXCJfX3dlYnBhY2tfcXVldWVzX19cIjtcbnZhciB3ZWJwYWNrRXhwb3J0cyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbChcIndlYnBhY2sgZXhwb3J0c1wiKSA6IFwiX193ZWJwYWNrX2V4cG9ydHNfX1wiO1xudmFyIHdlYnBhY2tFcnJvciA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbChcIndlYnBhY2sgZXJyb3JcIikgOiBcIl9fd2VicGFja19lcnJvcl9fXCI7XG52YXIgcmVzb2x2ZVF1ZXVlID0gKHF1ZXVlKSA9PiB7XG5cdGlmKHF1ZXVlICYmIHF1ZXVlLmQgPCAxKSB7XG5cdFx0cXVldWUuZCA9IDE7XG5cdFx0cXVldWUuZm9yRWFjaCgoZm4pID0+IChmbi5yLS0pKTtcblx0XHRxdWV1ZS5mb3JFYWNoKChmbikgPT4gKGZuLnItLSA/IGZuLnIrKyA6IGZuKCkpKTtcblx0fVxufVxudmFyIHdyYXBEZXBzID0gKGRlcHMpID0+IChkZXBzLm1hcCgoZGVwKSA9PiB7XG5cdGlmKGRlcCAhPT0gbnVsbCAmJiB0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKSB7XG5cdFx0aWYoZGVwW3dlYnBhY2tRdWV1ZXNdKSByZXR1cm4gZGVwO1xuXHRcdGlmKGRlcC50aGVuKSB7XG5cdFx0XHR2YXIgcXVldWUgPSBbXTtcblx0XHRcdHF1ZXVlLmQgPSAwO1xuXHRcdFx0ZGVwLnRoZW4oKHIpID0+IHtcblx0XHRcdFx0b2JqW3dlYnBhY2tFeHBvcnRzXSA9IHI7XG5cdFx0XHRcdHJlc29sdmVRdWV1ZShxdWV1ZSk7XG5cdFx0XHR9LCAoZSkgPT4ge1xuXHRcdFx0XHRvYmpbd2VicGFja0Vycm9yXSA9IGU7XG5cdFx0XHRcdHJlc29sdmVRdWV1ZShxdWV1ZSk7XG5cdFx0XHR9KTtcblx0XHRcdHZhciBvYmogPSB7fTtcblx0XHRcdG9ialt3ZWJwYWNrUXVldWVzXSA9IChmbikgPT4gKGZuKHF1ZXVlKSk7XG5cdFx0XHRyZXR1cm4gb2JqO1xuXHRcdH1cblx0fVxuXHR2YXIgcmV0ID0ge307XG5cdHJldFt3ZWJwYWNrUXVldWVzXSA9IHggPT4ge307XG5cdHJldFt3ZWJwYWNrRXhwb3J0c10gPSBkZXA7XG5cdHJldHVybiByZXQ7XG59KSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLmEgPSAobW9kdWxlLCBib2R5LCBoYXNBd2FpdCkgPT4ge1xuXHR2YXIgcXVldWU7XG5cdGhhc0F3YWl0ICYmICgocXVldWUgPSBbXSkuZCA9IC0xKTtcblx0dmFyIGRlcFF1ZXVlcyA9IG5ldyBTZXQoKTtcblx0dmFyIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cztcblx0dmFyIGN1cnJlbnREZXBzO1xuXHR2YXIgb3V0ZXJSZXNvbHZlO1xuXHR2YXIgcmVqZWN0O1xuXHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWopID0+IHtcblx0XHRyZWplY3QgPSByZWo7XG5cdFx0b3V0ZXJSZXNvbHZlID0gcmVzb2x2ZTtcblx0fSk7XG5cdHByb21pc2Vbd2VicGFja0V4cG9ydHNdID0gZXhwb3J0cztcblx0cHJvbWlzZVt3ZWJwYWNrUXVldWVzXSA9IChmbikgPT4gKHF1ZXVlICYmIGZuKHF1ZXVlKSwgZGVwUXVldWVzLmZvckVhY2goZm4pLCBwcm9taXNlW1wiY2F0Y2hcIl0oeCA9PiB7fSkpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IHByb21pc2U7XG5cdGJvZHkoKGRlcHMpID0+IHtcblx0XHRjdXJyZW50RGVwcyA9IHdyYXBEZXBzKGRlcHMpO1xuXHRcdHZhciBmbjtcblx0XHR2YXIgZ2V0UmVzdWx0ID0gKCkgPT4gKGN1cnJlbnREZXBzLm1hcCgoZCkgPT4ge1xuXHRcdFx0aWYoZFt3ZWJwYWNrRXJyb3JdKSB0aHJvdyBkW3dlYnBhY2tFcnJvcl07XG5cdFx0XHRyZXR1cm4gZFt3ZWJwYWNrRXhwb3J0c107XG5cdFx0fSkpXG5cdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuXHRcdFx0Zm4gPSAoKSA9PiAocmVzb2x2ZShnZXRSZXN1bHQpKTtcblx0XHRcdGZuLnIgPSAwO1xuXHRcdFx0dmFyIGZuUXVldWUgPSAocSkgPT4gKHEgIT09IHF1ZXVlICYmICFkZXBRdWV1ZXMuaGFzKHEpICYmIChkZXBRdWV1ZXMuYWRkKHEpLCBxICYmICFxLmQgJiYgKGZuLnIrKywgcS5wdXNoKGZuKSkpKTtcblx0XHRcdGN1cnJlbnREZXBzLm1hcCgoZGVwKSA9PiAoZGVwW3dlYnBhY2tRdWV1ZXNdKGZuUXVldWUpKSk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIGZuLnIgPyBwcm9taXNlIDogZ2V0UmVzdWx0KCk7XG5cdH0sIChlcnIpID0+ICgoZXJyID8gcmVqZWN0KHByb21pc2Vbd2VicGFja0Vycm9yXSA9IGVycikgOiBvdXRlclJlc29sdmUoZXhwb3J0cykpLCByZXNvbHZlUXVldWUocXVldWUpKSk7XG5cdHF1ZXVlICYmIHF1ZXVlLmQgPCAwICYmIChxdWV1ZS5kID0gMCk7XG59OyIsImltcG9ydCAqIGFzIHdhc20gZnJvbSBcIi4vb3RoZWxsb19yc19iZy53YXNtXCI7XG5pbXBvcnQgeyBfX3diZ19zZXRfd2FzbSB9IGZyb20gXCIuL290aGVsbG9fcnNfYmcuanNcIjtcbl9fd2JnX3NldF93YXNtKHdhc20pO1xuZXhwb3J0ICogZnJvbSBcIi4vb3RoZWxsb19yc19iZy5qc1wiO1xuIiwibGV0IHdhc207XG5leHBvcnQgZnVuY3Rpb24gX193Ymdfc2V0X3dhc20odmFsKSB7XG4gICAgd2FzbSA9IHZhbDtcbn1cblxuXG5jb25zdCBsVGV4dERlY29kZXIgPSB0eXBlb2YgVGV4dERlY29kZXIgPT09ICd1bmRlZmluZWQnID8gKDAsIG1vZHVsZS5yZXF1aXJlKSgndXRpbCcpLlRleHREZWNvZGVyIDogVGV4dERlY29kZXI7XG5cbmxldCBjYWNoZWRUZXh0RGVjb2RlciA9IG5ldyBsVGV4dERlY29kZXIoJ3V0Zi04JywgeyBpZ25vcmVCT006IHRydWUsIGZhdGFsOiB0cnVlIH0pO1xuXG5jYWNoZWRUZXh0RGVjb2Rlci5kZWNvZGUoKTtcblxubGV0IGNhY2hlZFVpbnQ4TWVtb3J5MCA9IG51bGw7XG5cbmZ1bmN0aW9uIGdldFVpbnQ4TWVtb3J5MCgpIHtcbiAgICBpZiAoY2FjaGVkVWludDhNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZFVpbnQ4TWVtb3J5MC5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNhY2hlZFVpbnQ4TWVtb3J5MCA9IG5ldyBVaW50OEFycmF5KHdhc20ubWVtb3J5LmJ1ZmZlcik7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWRVaW50OE1lbW9yeTA7XG59XG5cbmZ1bmN0aW9uIGdldFN0cmluZ0Zyb21XYXNtMChwdHIsIGxlbikge1xuICAgIHB0ciA9IHB0ciA+Pj4gMDtcbiAgICByZXR1cm4gY2FjaGVkVGV4dERlY29kZXIuZGVjb2RlKGdldFVpbnQ4TWVtb3J5MCgpLnN1YmFycmF5KHB0ciwgcHRyICsgbGVuKSk7XG59XG5cbmNvbnN0IGhlYXAgPSBuZXcgQXJyYXkoMTI4KS5maWxsKHVuZGVmaW5lZCk7XG5cbmhlYXAucHVzaCh1bmRlZmluZWQsIG51bGwsIHRydWUsIGZhbHNlKTtcblxubGV0IGhlYXBfbmV4dCA9IGhlYXAubGVuZ3RoO1xuXG5mdW5jdGlvbiBhZGRIZWFwT2JqZWN0KG9iaikge1xuICAgIGlmIChoZWFwX25leHQgPT09IGhlYXAubGVuZ3RoKSBoZWFwLnB1c2goaGVhcC5sZW5ndGggKyAxKTtcbiAgICBjb25zdCBpZHggPSBoZWFwX25leHQ7XG4gICAgaGVhcF9uZXh0ID0gaGVhcFtpZHhdO1xuXG4gICAgaGVhcFtpZHhdID0gb2JqO1xuICAgIHJldHVybiBpZHg7XG59XG5cbmZ1bmN0aW9uIF9hc3NlcnRDbGFzcyhpbnN0YW5jZSwga2xhc3MpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIGtsYXNzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGV4cGVjdGVkIGluc3RhbmNlIG9mICR7a2xhc3MubmFtZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlLnB0cjtcbn1cblxubGV0IGNhY2hlZEludDMyTWVtb3J5MCA9IG51bGw7XG5cbmZ1bmN0aW9uIGdldEludDMyTWVtb3J5MCgpIHtcbiAgICBpZiAoY2FjaGVkSW50MzJNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZEludDMyTWVtb3J5MC5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNhY2hlZEludDMyTWVtb3J5MCA9IG5ldyBJbnQzMkFycmF5KHdhc20ubWVtb3J5LmJ1ZmZlcik7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWRJbnQzMk1lbW9yeTA7XG59XG5cbmxldCBjYWNoZWRVaW50MzJNZW1vcnkwID0gbnVsbDtcblxuZnVuY3Rpb24gZ2V0VWludDMyTWVtb3J5MCgpIHtcbiAgICBpZiAoY2FjaGVkVWludDMyTWVtb3J5MCA9PT0gbnVsbCB8fCBjYWNoZWRVaW50MzJNZW1vcnkwLmJ5dGVMZW5ndGggPT09IDApIHtcbiAgICAgICAgY2FjaGVkVWludDMyTWVtb3J5MCA9IG5ldyBVaW50MzJBcnJheSh3YXNtLm1lbW9yeS5idWZmZXIpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVkVWludDMyTWVtb3J5MDtcbn1cblxuZnVuY3Rpb24gZ2V0T2JqZWN0KGlkeCkgeyByZXR1cm4gaGVhcFtpZHhdOyB9XG5cbmZ1bmN0aW9uIGRyb3BPYmplY3QoaWR4KSB7XG4gICAgaWYgKGlkeCA8IDEzMikgcmV0dXJuO1xuICAgIGhlYXBbaWR4XSA9IGhlYXBfbmV4dDtcbiAgICBoZWFwX25leHQgPSBpZHg7XG59XG5cbmZ1bmN0aW9uIHRha2VPYmplY3QoaWR4KSB7XG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGlkeCk7XG4gICAgZHJvcE9iamVjdChpZHgpO1xuICAgIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGdldEFycmF5SnNWYWx1ZUZyb21XYXNtMChwdHIsIGxlbikge1xuICAgIHB0ciA9IHB0ciA+Pj4gMDtcbiAgICBjb25zdCBtZW0gPSBnZXRVaW50MzJNZW1vcnkwKCk7XG4gICAgY29uc3Qgc2xpY2UgPSBtZW0uc3ViYXJyYXkocHRyIC8gNCwgcHRyIC8gNCArIGxlbik7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGljZS5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHQucHVzaCh0YWtlT2JqZWN0KHNsaWNlW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiogQSBwbGF5ZXIuXG4qL1xuZXhwb3J0IGNvbnN0IFBsYXllciA9IE9iamVjdC5mcmVlemUoe1xuLyoqXG4qIEJsYWNrIG1vdmVzIGZpcnN0LlxuKi9cbkJsYWNrOjAsXCIwXCI6XCJCbGFja1wiLFxuLyoqXG4qIFdoaXRlIG1vdmVzIHNlY29uZC5cbiovXG5XaGl0ZToxLFwiMVwiOlwiV2hpdGVcIiwgfSk7XG5cbmNvbnN0IEFjdGlvbkZpbmFsaXphdGlvbiA9ICh0eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnkgPT09ICd1bmRlZmluZWQnKVxuICAgID8geyByZWdpc3RlcjogKCkgPT4ge30sIHVucmVnaXN0ZXI6ICgpID0+IHt9IH1cbiAgICA6IG5ldyBGaW5hbGl6YXRpb25SZWdpc3RyeShwdHIgPT4gd2FzbS5fX3diZ19hY3Rpb25fZnJlZShwdHIgPj4+IDApKTtcbi8qKlxuKiBBbiBhY3Rpb24gdG8gbWFrZSBhIG1vdmUgb3IgcGFzcyBhIHR1cm4uXG4qL1xuZXhwb3J0IGNsYXNzIEFjdGlvbiB7XG5cbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBwdHIgPSBwdHIgPj4+IDA7XG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUoQWN0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIG9iai5fX3diZ19wdHIgPSBwdHI7XG4gICAgICAgIEFjdGlvbkZpbmFsaXphdGlvbi5yZWdpc3RlcihvYmosIG9iai5fX3diZ19wdHIsIG9iaik7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fd2JnX3B0cjtcbiAgICAgICAgdGhpcy5fX3diZ19wdHIgPSAwO1xuICAgICAgICBBY3Rpb25GaW5hbGl6YXRpb24udW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBmcmVlKCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xuICAgICAgICB3YXNtLl9fd2JnX2FjdGlvbl9mcmVlKHB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICogSWYgdGhlIHBsYXllciBydW5zIG91dCBvZiBtb3ZlcywgdGhlIGJpdG1hc2sgaXMgMC4gT3RoZXJ3aXNlLCB0aGUgYml0bWFzayBoYXMgZXhhY3RseSBvbmVcbiAgICAqIGJpdCBzZXQsIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHNxdWFyZSB3aGVyZSB0aGUgcGxheWVyIHBsYWNlcyBhIGRpc2MuXG4gICAgKiBAcmV0dXJucyB7YmlnaW50fVxuICAgICovXG4gICAgZ2V0IG1hc2soKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20uX193YmdfZ2V0X2FjdGlvbl9tYXNrKHRoaXMuX193YmdfcHRyKTtcbiAgICAgICAgcmV0dXJuIEJpZ0ludC5hc1VpbnROKDY0LCByZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIElmIHRoZSBwbGF5ZXIgcnVucyBvdXQgb2YgbW92ZXMsIHRoZSBiaXRtYXNrIGlzIDAuIE90aGVyd2lzZSwgdGhlIGJpdG1hc2sgaGFzIGV4YWN0bHkgb25lXG4gICAgKiBiaXQgc2V0LCBjb3JyZXNwb25kaW5nIHRvIHRoZSBzcXVhcmUgd2hlcmUgdGhlIHBsYXllciBwbGFjZXMgYSBkaXNjLlxuICAgICogQHBhcmFtIHtiaWdpbnR9IGFyZzBcbiAgICAqL1xuICAgIHNldCBtYXNrKGFyZzApIHtcbiAgICAgICAgd2FzbS5fX3diZ19zZXRfYWN0aW9uX21hc2sodGhpcy5fX3diZ19wdHIsIGFyZzApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFJldHVybnMgYW4gYWN0aW9uIGZyb20gYSBiaXRtYXNrLlxuICAgICogQHBhcmFtIHtiaWdpbnR9IG1hc2tcbiAgICAqIEByZXR1cm5zIHtBY3Rpb259XG4gICAgKi9cbiAgICBzdGF0aWMgZnJvbV9tYXNrKG1hc2spIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5hY3Rpb25fZnJvbV9tYXNrKG1hc2spO1xuICAgICAgICByZXR1cm4gQWN0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFJldHVybnMgYSBwYXNzIGFjdGlvbi5cbiAgICAqIEByZXR1cm5zIHtBY3Rpb259XG4gICAgKi9cbiAgICBzdGF0aWMgcGFzcygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5hY3Rpb25fcGFzcygpO1xuICAgICAgICByZXR1cm4gQWN0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFJldHVybnMgYSBtb3ZlIGFjdGlvbiBmcm9tIGEgZmxhdCBpbmRleC5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGF0X2luZGV4XG4gICAgKiBAcmV0dXJucyB7QWN0aW9ufVxuICAgICovXG4gICAgc3RhdGljIGZyb21fZmxhdF9pbmRleChmbGF0X2luZGV4KSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20uYWN0aW9uX2Zyb21fZmxhdF9pbmRleChmbGF0X2luZGV4KTtcbiAgICAgICAgcmV0dXJuIEFjdGlvbi5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIGEgbW92ZSBhY3Rpb24gZnJvbSBhIHJvdyBhbmQgYSBjb2x1bW4uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcm93XG4gICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uXG4gICAgKiBAcmV0dXJucyB7QWN0aW9ufVxuICAgICovXG4gICAgc3RhdGljIGZyb21fcm93X2NvbHVtbihyb3csIGNvbHVtbikge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLmFjdGlvbl9mcm9tX3Jvd19jb2x1bW4ocm93LCBjb2x1bW4pO1xuICAgICAgICByZXR1cm4gQWN0aW9uLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFJldHVybnMgd2hldGhlciB0aGUgYWN0aW9uIGlzIGEgcGFzcy5cbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgaXNfcGFzcygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5hY3Rpb25faXNfcGFzcyh0aGlzLl9fd2JnX3B0cik7XG4gICAgICAgIHJldHVybiByZXQgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgZmxhdCBpbmRleCBvZiB0aGUgc3F1YXJlIHdoZXJlIHRoZSBwbGF5ZXIgcGxhY2VzIGEgZGlzYywgb3IgNjQgaWYgdGhlIHBsYXllclxuICAgICogcGFzc2VzIHRoZWlyIHR1cm4uXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgZmxhdF9pbmRleCgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5hY3Rpb25fZmxhdF9pbmRleCh0aGlzLl9fd2JnX3B0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgcm93IG9mIHRoZSBzcXVhcmUgd2hlcmUgdGhlIHBsYXllciBwbGFjZXMgYSBkaXNjLCBvciA4IGlmIHRoZSBwbGF5ZXIgcGFzc2VzXG4gICAgKiB0aGVpciB0dXJuLlxuICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAqL1xuICAgIHJvdygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5hY3Rpb25fcm93KHRoaXMuX193YmdfcHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBjb2x1bW4gb2YgdGhlIHNxdWFyZSB3aGVyZSB0aGUgcGxheWVyIHBsYWNlcyBhIGRpc2MsIG9yIDggaWYgdGhlIHBsYXllciBwYXNzZXNcbiAgICAqIHRoZWlyIHR1cm4uXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgY29sdW1uKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLmFjdGlvbl9jb2x1bW4odGhpcy5fX3diZ19wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xuICAgIH1cbn1cblxuY29uc3QgU3RhdGVGaW5hbGl6YXRpb24gPSAodHlwZW9mIEZpbmFsaXphdGlvblJlZ2lzdHJ5ID09PSAndW5kZWZpbmVkJylcbiAgICA/IHsgcmVnaXN0ZXI6ICgpID0+IHt9LCB1bnJlZ2lzdGVyOiAoKSA9PiB7fSB9XG4gICAgOiBuZXcgRmluYWxpemF0aW9uUmVnaXN0cnkocHRyID0+IHdhc20uX193Ymdfc3RhdGVfZnJlZShwdHIgPj4+IDApKTtcbi8qKlxuKiBUaGUgc3RhdGUgb2YgdGhlIGdhbWUuXG4qL1xuZXhwb3J0IGNsYXNzIFN0YXRlIHtcblxuICAgIHN0YXRpYyBfX3dyYXAocHRyKSB7XG4gICAgICAgIHB0ciA9IHB0ciA+Pj4gMDtcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShTdGF0ZS5wcm90b3R5cGUpO1xuICAgICAgICBvYmouX193YmdfcHRyID0gcHRyO1xuICAgICAgICBTdGF0ZUZpbmFsaXphdGlvbi5yZWdpc3RlcihvYmosIG9iai5fX3diZ19wdHIsIG9iaik7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fd2JnX3B0cjtcbiAgICAgICAgdGhpcy5fX3diZ19wdHIgPSAwO1xuICAgICAgICBTdGF0ZUZpbmFsaXphdGlvbi51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193Ymdfc3RhdGVfZnJlZShwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFRoZSBwbGF5ZXIgd2hvIG1vdmVzIG5leHQuXG4gICAgKiBAcmV0dXJucyB7UGxheWVyfVxuICAgICovXG4gICAgZ2V0IGN1cnJlbnRfcGxheWVyKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLl9fd2JnX2dldF9zdGF0ZV9jdXJyZW50X3BsYXllcih0aGlzLl9fd2JnX3B0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhlIHBsYXllciB3aG8gbW92ZXMgbmV4dC5cbiAgICAqIEBwYXJhbSB7UGxheWVyfSBhcmcwXG4gICAgKi9cbiAgICBzZXQgY3VycmVudF9wbGF5ZXIoYXJnMCkge1xuICAgICAgICB3YXNtLl9fd2JnX3NldF9zdGF0ZV9jdXJyZW50X3BsYXllcih0aGlzLl9fd2JnX3B0ciwgYXJnMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogRGlzY3Mgb2YgdGhlIGN1cnJlbnQgcGxheWVyIG9uIHRoZSBib2FyZC5cbiAgICAqIEByZXR1cm5zIHtiaWdpbnR9XG4gICAgKi9cbiAgICBnZXQgcGxheWVyX2Rpc2NzKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLl9fd2JnX2dldF9hY3Rpb25fbWFzayh0aGlzLl9fd2JnX3B0cik7XG4gICAgICAgIHJldHVybiBCaWdJbnQuYXNVaW50Tig2NCwgcmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBEaXNjcyBvZiB0aGUgY3VycmVudCBwbGF5ZXIgb24gdGhlIGJvYXJkLlxuICAgICogQHBhcmFtIHtiaWdpbnR9IGFyZzBcbiAgICAqL1xuICAgIHNldCBwbGF5ZXJfZGlzY3MoYXJnMCkge1xuICAgICAgICB3YXNtLl9fd2JnX3NldF9hY3Rpb25fbWFzayh0aGlzLl9fd2JnX3B0ciwgYXJnMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogRGlzY3Mgb2YgdGhlIG9wcG9uZW50IG9uIHRoZSBib2FyZC5cbiAgICAqIEByZXR1cm5zIHtiaWdpbnR9XG4gICAgKi9cbiAgICBnZXQgb3Bwb25lbnRfZGlzY3MoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20uX193YmdfZ2V0X3N0YXRlX29wcG9uZW50X2Rpc2NzKHRoaXMuX193YmdfcHRyKTtcbiAgICAgICAgcmV0dXJuIEJpZ0ludC5hc1VpbnROKDY0LCByZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIERpc2NzIG9mIHRoZSBvcHBvbmVudCBvbiB0aGUgYm9hcmQuXG4gICAgKiBAcGFyYW0ge2JpZ2ludH0gYXJnMFxuICAgICovXG4gICAgc2V0IG9wcG9uZW50X2Rpc2NzKGFyZzApIHtcbiAgICAgICAgd2FzbS5fX3diZ19zZXRfc3RhdGVfb3Bwb25lbnRfZGlzY3ModGhpcy5fX3diZ19wdHIsIGFyZzApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFNxdWFyZXMgd2hlcmUgdGhlIGN1cnJlbnQgcGxheWVyIGNhbiBwbGFjZSBhIGRpc2MuXG4gICAgKiBAcmV0dXJucyB7YmlnaW50fVxuICAgICovXG4gICAgZ2V0IGxlZ2FsX21vdmVzKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLl9fd2JnX2dldF9zdGF0ZV9sZWdhbF9tb3Zlcyh0aGlzLl9fd2JnX3B0cik7XG4gICAgICAgIHJldHVybiBCaWdJbnQuYXNVaW50Tig2NCwgcmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBTcXVhcmVzIHdoZXJlIHRoZSBjdXJyZW50IHBsYXllciBjYW4gcGxhY2UgYSBkaXNjLlxuICAgICogQHBhcmFtIHtiaWdpbnR9IGFyZzBcbiAgICAqL1xuICAgIHNldCBsZWdhbF9tb3ZlcyhhcmcwKSB7XG4gICAgICAgIHdhc20uX193Ymdfc2V0X3N0YXRlX2xlZ2FsX21vdmVzKHRoaXMuX193YmdfcHRyLCBhcmcwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBXaGV0aGVyIHRoZSBwcmV2aW91cyBwbGF5ZXIgcGFzc2VkIHRoZWlyIHR1cm4uXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGdldCB3YXNfcGFzcygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS5fX3diZ19nZXRfc3RhdGVfd2FzX3Bhc3ModGhpcy5fX3diZ19wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFdoZXRoZXIgdGhlIHByZXZpb3VzIHBsYXllciBwYXNzZWQgdGhlaXIgdHVybi5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXJnMFxuICAgICovXG4gICAgc2V0IHdhc19wYXNzKGFyZzApIHtcbiAgICAgICAgd2FzbS5fX3diZ19zZXRfc3RhdGVfd2FzX3Bhc3ModGhpcy5fX3diZ19wdHIsIGFyZzApO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgcG9zaXRpb24gaXMgYW4gZW5kZ2FtZS5cbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgZ2V0IGlzX2VuZGdhbWUoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20uX193YmdfZ2V0X3N0YXRlX2lzX2VuZGdhbWUodGhpcy5fX3diZ19wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgcG9zaXRpb24gaXMgYW4gZW5kZ2FtZS5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXJnMFxuICAgICovXG4gICAgc2V0IGlzX2VuZGdhbWUoYXJnMCkge1xuICAgICAgICB3YXNtLl9fd2JnX3NldF9zdGF0ZV9pc19lbmRnYW1lKHRoaXMuX193YmdfcHRyLCBhcmcwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBpbml0aWFsIHN0YXRlIHdoZW4gYSBnYW1lIGJlZ2lucy5cbiAgICAqIEByZXR1cm5zIHtTdGF0ZX1cbiAgICAqL1xuICAgIHN0YXRpYyBuZXcoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20uc3RhdGVfbmV3KCk7XG4gICAgICAgIHJldHVybiBTdGF0ZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIGFuIHVwZGF0ZWQgc3RhdGUgYWZ0ZXIgdGhlIGN1cnJlbnQgcGxheWVyIG1ha2VzIGEgbW92ZSBvciBwYXNzZXMgdGhlaXIgdHVybi5cbiAgICAqXG4gICAgKiBbUmVmZXJlbmNlIGltcGxlbWVudGF0aW9uIGluIFBneF0oaHR0cHM6Ly9naXRodWIuY29tL3NvdGV0c3VrL3BneC9ibG9iL2RhMjllN2U3ZTZhYTBkYWZjNDk0MzgxMGYwZWU3NmEyNWVlNzBjYjMvcGd4L290aGVsbG8ucHkpLlxuICAgICogQHBhcmFtIHtBY3Rpb259IGFjdGlvblxuICAgICogQHJldHVybnMge1N0YXRlfVxuICAgICovXG4gICAgc3RlcChhY3Rpb24pIHtcbiAgICAgICAgX2Fzc2VydENsYXNzKGFjdGlvbiwgQWN0aW9uKTtcbiAgICAgICAgdmFyIHB0cjAgPSBhY3Rpb24uX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20uc3RhdGVfc3RlcCh0aGlzLl9fd2JnX3B0ciwgcHRyMCk7XG4gICAgICAgIHJldHVybiBTdGF0ZS5fX3dyYXAocmV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIGEgdmVjdG9yIG9mIHRoZSBsZWdhbCBtb3Zlcy5cbiAgICAqIEByZXR1cm5zIHsoQWN0aW9uKVtdfVxuICAgICovXG4gICAgbGVnYWxfbW92ZV92ZWMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgICAgIHdhc20uc3RhdGVfbGVnYWxfbW92ZV92ZWMocmV0cHRyLCB0aGlzLl9fd2JnX3B0cik7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgICAgICB2YXIgdjEgPSBnZXRBcnJheUpzVmFsdWVGcm9tV2FzbTAocjAsIHIxKS5zbGljZSgpO1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUocjAsIHIxICogNCwgNCk7XG4gICAgICAgICAgICByZXR1cm4gdjE7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoMTYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgZGlzYyBhdCB0aGUgc3F1YXJlIHNwZWNpZmllZCBieSB0aGUgcm93IGFuZCB0aGUgY29sdW1uLCBvciBOb25lIGlmIHRoZSBzcXVhcmVcbiAgICAqIGlzIGVtcHR5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHJvd1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtblxuICAgICogQHJldHVybnMge1BsYXllciB8IHVuZGVmaW5lZH1cbiAgICAqL1xuICAgIGdldF9kaXNjKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20uc3RhdGVfZ2V0X2Rpc2ModGhpcy5fX3diZ19wdHIsIHJvdywgY29sdW1uKTtcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gMiA/IHVuZGVmaW5lZCA6IHJldDtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19hY3Rpb25fbmV3KGFyZzApIHtcbiAgICBjb25zdCByZXQgPSBBY3Rpb24uX193cmFwKGFyZzApO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmluZGdlbl90aHJvdyhhcmcwLCBhcmcxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGdldFN0cmluZ0Zyb21XYXNtMChhcmcwLCBhcmcxKSk7XG59O1xuXG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgaHRtbCB7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDM0LCAzNCwgMzQpO1xufVxuXG5ib2R5IHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBtYXJnaW46IDA7XG5cbiAgLyogU2V0IHRoZSBib2R5IHRvIGJlIGEgZmxleCBjb250YWluZXIuICovXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xufVxuXG4jZ2FtZS1jb250cm9scy1jb250YWluZXIge1xuICAvKiBGaXhlZCA0OHB4IGhlaWdodC4gKi9cbiAgZmxleDogMCAxIDQ4cHg7XG59XG5cbiNnYW1lLXN2Zy1jb250YWluZXIge1xuICAvKiBPY2N1cHkgdGhlIHJlbWFpbmluZyBzcGFjZSBsZWZ0IGJ5IHRoZSBnYW1lIGNvbnRyb2xzLiAqL1xuICBmbGV4OiAxIDEgMHB4O1xuXG4gIGNvbnRhaW5lcjogZ2FtZS1zdmctY29udGFpbmVyLWxheW91dCAvIHNpemU7XG5cbiAgLyogU2V0IHBvc2l0aW9uIHRvIHJlbGF0aXZlIHRvIG1ha2UgdGhlIGNvbnRhaW5lciBiZSB0aGUgU1ZHJ3MgY29udGFpbmluZyBibG9jay5cbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NvbnRhaW5pbmdfYmxvY2sjaWRlbnRpZnlpbmdfdGhlX2NvbnRhaW5pbmdfYmxvY2sgKi9cbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4jZ2FtZS1zdmcge1xuICAvKiBNYWludGFpbiB0aGUgYXNwZWN0IHJhdGlvIG9mIGFuIFNWRyBpbiBhIGNvbnRhaW5lci5cbiAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzY2Nzg2Nzc0ICovXG4gIGFzcGVjdC1yYXRpbzogMS8xO1xuXG4gIC8qIE9jY3VweSB0aGUgZW50aXJlIHdpZHRoIGlmIHdpZHRoIDw9IGhlaWdodC4gKi9cbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogYXV0bztcblxuICAvKiBDZW50ZXIgdGhlIFNWRyBob3Jpem9udGFsbHkgYW5kIHZlcnRpY2FsbHkuXG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMzcwMzY1NSAqL1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNTAlO1xuICBsZWZ0OiA1MCU7XG4gIC8qIFJlbGF0aXZlIHRvIHRoZSB0cmFuc2Zvcm1lZCBlbGVtZW50J3Mgb3duIGJvdW5kaW5nIGJveC4gKi9cbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG59XG5cbi8qIE9jY3VweSB0aGUgZW50aXJlIGhlaWdodCBpZiB3aWR0aCA+IGhlaWdodC4gKi9cbkBjb250YWluZXIgZ2FtZS1zdmctY29udGFpbmVyLWxheW91dCAoYXNwZWN0LXJhdGlvID4gMS8xKSB7XG4gICNnYW1lLXN2ZyB7XG4gICAgd2lkdGg6IGF1dG87XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG59XG5cbi8qIFByZXZlbnQgdXNlcnMgZnJvbSBhY2NpZGVudGFsbHkgc2VsZWN0IHRoZSB0ZXh0cy4gKi9cbiNnYW1lLXN2ZyB0ZXh0IHtcbiAgLyogdXNlci1zZWxlY3QgZG9lcyBub3Qgd29yayBvbiBTVkcgdGV4dHMgaW4gU2FmYXJpLiAqL1xuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbn1cbmAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLFlBQVk7RUFDWixpQ0FBaUM7QUFDbkM7O0FBRUE7RUFDRSxZQUFZO0VBQ1osU0FBUzs7RUFFVCx5Q0FBeUM7RUFDekMsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixvQkFBb0I7QUFDdEI7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLDBEQUEwRDtFQUMxRCxhQUFhOztFQUViLDJDQUEyQzs7RUFFM0M7eUdBQ3VHO0VBQ3ZHLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFOzJDQUN5QztFQUN6QyxpQkFBaUI7O0VBRWpCLGdEQUFnRDtFQUNoRCxXQUFXO0VBQ1gsWUFBWTs7RUFFWjsyQ0FDeUM7RUFDekMsa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixTQUFTO0VBQ1QsNERBQTREO0VBQzVELGdDQUFnQztBQUNsQzs7QUFFQSxnREFBZ0Q7QUFDaEQ7RUFDRTtJQUNFLFdBQVc7SUFDWCxZQUFZO0VBQ2Q7QUFDRjs7QUFFQSxzREFBc0Q7QUFDdEQ7RUFDRSxzREFBc0Q7RUFDdEQseUJBQXlCO0VBQ3pCLGlCQUFpQjtBQUNuQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJodG1sIHtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigzNCwgMzQsIDM0KTtcXG59XFxuXFxuYm9keSB7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBtYXJnaW46IDA7XFxuXFxuICAvKiBTZXQgdGhlIGJvZHkgdG8gYmUgYSBmbGV4IGNvbnRhaW5lci4gKi9cXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XFxufVxcblxcbiNnYW1lLWNvbnRyb2xzLWNvbnRhaW5lciB7XFxuICAvKiBGaXhlZCA0OHB4IGhlaWdodC4gKi9cXG4gIGZsZXg6IDAgMSA0OHB4O1xcbn1cXG5cXG4jZ2FtZS1zdmctY29udGFpbmVyIHtcXG4gIC8qIE9jY3VweSB0aGUgcmVtYWluaW5nIHNwYWNlIGxlZnQgYnkgdGhlIGdhbWUgY29udHJvbHMuICovXFxuICBmbGV4OiAxIDEgMHB4O1xcblxcbiAgY29udGFpbmVyOiBnYW1lLXN2Zy1jb250YWluZXItbGF5b3V0IC8gc2l6ZTtcXG5cXG4gIC8qIFNldCBwb3NpdGlvbiB0byByZWxhdGl2ZSB0byBtYWtlIHRoZSBjb250YWluZXIgYmUgdGhlIFNWRydzIGNvbnRhaW5pbmcgYmxvY2suXFxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQ29udGFpbmluZ19ibG9jayNpZGVudGlmeWluZ190aGVfY29udGFpbmluZ19ibG9jayAqL1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4jZ2FtZS1zdmcge1xcbiAgLyogTWFpbnRhaW4gdGhlIGFzcGVjdCByYXRpbyBvZiBhbiBTVkcgaW4gYSBjb250YWluZXIuXFxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNjY3ODY3NzQgKi9cXG4gIGFzcGVjdC1yYXRpbzogMS8xO1xcblxcbiAgLyogT2NjdXB5IHRoZSBlbnRpcmUgd2lkdGggaWYgd2lkdGggPD0gaGVpZ2h0LiAqL1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IGF1dG87XFxuXFxuICAvKiBDZW50ZXIgdGhlIFNWRyBob3Jpem9udGFsbHkgYW5kIHZlcnRpY2FsbHkuXFxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjM3MDM2NTUgKi9cXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogNTAlO1xcbiAgbGVmdDogNTAlO1xcbiAgLyogUmVsYXRpdmUgdG8gdGhlIHRyYW5zZm9ybWVkIGVsZW1lbnQncyBvd24gYm91bmRpbmcgYm94LiAqL1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxufVxcblxcbi8qIE9jY3VweSB0aGUgZW50aXJlIGhlaWdodCBpZiB3aWR0aCA+IGhlaWdodC4gKi9cXG5AY29udGFpbmVyIGdhbWUtc3ZnLWNvbnRhaW5lci1sYXlvdXQgKGFzcGVjdC1yYXRpbyA+IDEvMSkge1xcbiAgI2dhbWUtc3ZnIHtcXG4gICAgd2lkdGg6IGF1dG87XFxuICAgIGhlaWdodDogMTAwJTtcXG4gIH1cXG59XFxuXFxuLyogUHJldmVudCB1c2VycyBmcm9tIGFjY2lkZW50YWxseSBzZWxlY3QgdGhlIHRleHRzLiAqL1xcbiNnYW1lLXN2ZyB0ZXh0IHtcXG4gIC8qIHVzZXItc2VsZWN0IGRvZXMgbm90IHdvcmsgb24gU1ZHIHRleHRzIGluIFNhZmFyaS4gKi9cXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5vcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cbiAgY3NzICs9IG9iai5jc3M7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH1cblxuICAvLyBGb3Igb2xkIElFXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7fSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IHsgQWN0aW9uLCBQbGF5ZXIsIFN0YXRlIGFzIEdhbWVTdGF0ZSB9IGZyb20gJ290aGVsbG9fcnMnO1xuLyoqXG4gKiBUaGUgbWFpbiBlbnRyeSBwb2ludCBvZiB0aGUgd2ViIGFwcGxpY2F0aW9uLlxuICovXG5mdW5jdGlvbiBtYWluKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IHN2Z0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lLXN2Zy1jb250YWluZXInKTtcbiAgICAgICAgY29uc3QgZ2FtZVZpZXcgPSBuZXcgR2FtZVZpZXcoc3ZnQ29udGFpbmVyKTtcbiAgICAgICAgY29uc3QgY2xpY2tIYW5kbGVyID0gbmV3IFNWR0NsaWNrSGFuZGxlcihnYW1lVmlldy5nZXRTVkcoKSk7XG4gICAgICAgIHN2Z0NvbnRhaW5lci5hcHBlbmRDaGlsZChnYW1lVmlldy5nZXRTVkcoKSk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBtb3JlIGNvbnRyb2xzLlxuICAgICAgICAgICAgbGV0IGdhbWVTdGF0ZSA9IEdhbWVTdGF0ZS5uZXcoKTtcbiAgICAgICAgICAgIHlpZWxkIGdhbWVWaWV3LnNldFNxdWFyZVN0YXRlc0Zyb21HYW1lU3RhdGUoZ2FtZVN0YXRlKTtcbiAgICAgICAgICAgIHdoaWxlICghZ2FtZVN0YXRlLmlzX2VuZGdhbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWdhbE1vdmVzID0gZ2FtZVN0YXRlLmxlZ2FsX21vdmVfdmVjKCk7XG4gICAgICAgICAgICAgICAgbGV0IGFjdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAobGVnYWxNb3Zlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoYCR7Z2FtZVN0YXRlLmN1cnJlbnRfcGxheWVyfSBpcyBvdXQgb2YgbW92ZXNgKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gQWN0aW9uLnBhc3MoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbiA9IHlpZWxkIGNsaWNrSGFuZGxlci5nZXRNb3ZlKGxlZ2FsTW92ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUgPSBnYW1lU3RhdGUuc3RlcChhY3Rpb24pO1xuICAgICAgICAgICAgICAgIHlpZWxkIGdhbWVWaWV3LnNldFNxdWFyZVN0YXRlc0Zyb21HYW1lU3RhdGUoZ2FtZVN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFsZXJ0KCdHYW1lIGlzIG92ZXIhJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmNvbnN0IFNWR19OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuLyoqXG4gKiBUaGUgc3RhdGUgb2YgYSBzcXVhcmUgb24gdGhlIGJvYXJkLCB1c2VkIHRvIGRldGVybWluZSBob3cgdG8gcmVuZGVyIHRoZSBzcXVhcmUuXG4gKi9cbnZhciBTcXVhcmVTdGF0ZTtcbihmdW5jdGlvbiAoU3F1YXJlU3RhdGUpIHtcbiAgICBTcXVhcmVTdGF0ZVtTcXVhcmVTdGF0ZVtcIkVtcHR5XCJdID0gMF0gPSBcIkVtcHR5XCI7XG4gICAgU3F1YXJlU3RhdGVbU3F1YXJlU3RhdGVbXCJCbGFja1wiXSA9IDFdID0gXCJCbGFja1wiO1xuICAgIFNxdWFyZVN0YXRlW1NxdWFyZVN0YXRlW1wiV2hpdGVcIl0gPSAyXSA9IFwiV2hpdGVcIjtcbiAgICBTcXVhcmVTdGF0ZVtTcXVhcmVTdGF0ZVtcIkJsYWNrTGVnYWxNb3ZlXCJdID0gM10gPSBcIkJsYWNrTGVnYWxNb3ZlXCI7XG4gICAgU3F1YXJlU3RhdGVbU3F1YXJlU3RhdGVbXCJXaGl0ZUxlZ2FsTW92ZVwiXSA9IDRdID0gXCJXaGl0ZUxlZ2FsTW92ZVwiO1xufSkoU3F1YXJlU3RhdGUgfHwgKFNxdWFyZVN0YXRlID0ge30pKTtcbi8qKlxuICogQSB2aWV3IHRoYXQgY3JlYXRlcyBhbiBTVkcgZWxlbWVudCB0byBkaXNwbGF5IGEgYm9hcmQgdGhhdCB0cmFuc2l0aW9ucyBiZXR3ZWVuIGRpZmZlcmVudCBzdGF0ZXMuXG4gKi9cbmNsYXNzIEdhbWVWaWV3IHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdzdmcnKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnN2Zyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFNWRyBlbGVtZW50IGNyZWF0ZWQgYnkgdGhpcyB2aWV3LlxuICAgICAqL1xuICAgIGdldFNWRygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ZnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzcXVhcmUgc3RhdGVzIGJhc2VkIG9uIHRoZSBnaXZlbiBnYW1lIHN0YXRlLlxuICAgICAqL1xuICAgIHNldFNxdWFyZVN0YXRlc0Zyb21HYW1lU3RhdGUoZ2FtZVN0YXRlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsZWdhbE1vdmVGbGF0SW5kaWNlcyA9IGdhbWVTdGF0ZS5sZWdhbF9tb3ZlX3ZlYygpLm1hcChtb3ZlID0+IG1vdmUuZmxhdF9pbmRleCgpKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQbGF5ZXJMZWdhbE1vdmVTdGF0ZSA9IGdhbWVTdGF0ZS5jdXJyZW50X3BsYXllciA9PT0gUGxheWVyLkJsYWNrID9cbiAgICAgICAgICAgICAgICBTcXVhcmVTdGF0ZS5CbGFja0xlZ2FsTW92ZSA6IFNxdWFyZVN0YXRlLldoaXRlTGVnYWxNb3ZlO1xuICAgICAgICAgICAgbGV0IGlzU2FtZSA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBzcXVhcmVTdGF0ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNxdWFyZVN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGdhbWVTdGF0ZS5nZXRfZGlzYyhpLCBqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBQbGF5ZXIuQmxhY2s6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlU3RhdGUgPSBTcXVhcmVTdGF0ZS5CbGFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUGxheWVyLldoaXRlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZVN0YXRlID0gU3F1YXJlU3RhdGUuV2hpdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAvLyBSdXN0J3Mgd2FzbS1iaW5kZ2VuIHVzZXMgYHVuZGVmaW5lZGAgZm9yIE9wdGlvbjxUPjo6Tm9uZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZsYXRJbmRleCA9IGkgKiA4ICsgajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlU3RhdGUgPSBsZWdhbE1vdmVGbGF0SW5kaWNlcy5pbmNsdWRlcyhmbGF0SW5kZXgpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXJMZWdhbE1vdmVTdGF0ZSA6IFNxdWFyZVN0YXRlLkVtcHR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3F1YXJlU3RhdGUgIT09IHRoaXMuc3F1YXJlc1tpXVtqXS5nZXRTdGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1NhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByb3cucHVzaChzcXVhcmVTdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNxdWFyZVN0YXRlcy5wdXNoKHJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLy8gRG9uJ3QgdXBkYXRlIHRoZSB2aWV3IGlmIHRoZSBkaXNjIHZpZXdzIGRvIG5vdCBjaGFuZ2UgdGhlaXIgc3RhdGVzLlxuICAgICAgICAgICAgaWYgKGlzU2FtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vdCBzdXJlIHdoeSB0aGlzIHdvcmtzLCBidXQgcmVtb3ZpbmcgYW5kIHJlLWFkZGluZyB0aGUgU1ZHIGVsZW1lbnQgZml4ZXMgdHdvIGFuaW1hdGlvblxuICAgICAgICAgICAgLy8gaXNzdWVzIGluIFNhZmFyaS5cbiAgICAgICAgICAgIC8vIC0gYW5pbWF0ZVRyYW5zZm9ybSBkaWQgbm90IHdvcmsuXG4gICAgICAgICAgICAvLyAtIEFsbCBhbmltYXRpb25zIGZhaWxlZCBvbmNlIHRoZSBzY3JlZW4gd2FzIGhpZGRlbiBhbmQgdGhlbiByZXN1bWVkLlxuICAgICAgICAgICAgdGhpcy5zdmcucmVtb3ZlKCk7XG4gICAgICAgICAgICAvLy8gVXBkYXRlIHRoZSBkaXNjIHZpZXdzIHdpdGggYW5pbWF0aW9ucy5cbiAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IDg7ICsrcm93KSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgODsgKytjb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcXVhcmVzW3Jvd11bY29sdW1uXS5zZXRTdGF0ZShzcXVhcmVTdGF0ZXNbcm93XVtjb2x1bW5dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZS1hZGQgdGhlIFNWRyBlbGVtZW50LiBObyBuZWVkIHRvIGluc2VydCBhIHdhaXRUaW1lb3V0KCkgaGVyZSwgYW5kIHRoZSBzY3JlZW4gd291bGQgZmxhc2hcbiAgICAgICAgICAgIC8vIGluIENocm9tZSBpZiB3ZSBkby5cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc3ZnKTtcbiAgICAgICAgICAgIC8vIFJlc3RhcnQgdGhlIGFuaW1hdGlvbnMuIEFuaW1hdGlvbnMgd291bGQgZmFpbCBpbiBTYWZhcmkgaWYgdGhlIGFuaW1hdGlvbnMgYXJlIG5vdCBwYXVzZWRcbiAgICAgICAgICAgIC8vIGJlZm9yZSBzZXR0aW5nIHRoZSBjdXJyZW50IHRpbWUuXG4gICAgICAgICAgICB0aGlzLnN2Zy5wYXVzZUFuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuc3ZnLnNldEN1cnJlbnRUaW1lKDApO1xuICAgICAgICAgICAgdGhpcy5zdmcudW5wYXVzZUFuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBhbmltYXRpb25zIHRvIGZpbmlzaC5cbiAgICAgICAgICAgIHlpZWxkIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBHYW1lVmlldy5hbmltYXRpb25EdXJhdGlvbiAqIDEwMDApKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIElEIG9mIHRoZSB0cmFuc2l0aW9uIGFuaW1hdGlvbiBiZXR3ZWVuIHR3byBzcXVhcmUgc3RhdGVzLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRTcXVhcmVTdGF0ZVRyYW5zaXRpb25JZChmcm9tU3RhdGUsIHRvU3RhdGUpIHtcbiAgICAgICAgY29uc3QgZnJvbVN0YXRlU3RyaW5nID0gU3F1YXJlU3RhdGVbZnJvbVN0YXRlXTtcbiAgICAgICAgY29uc3QgdG9TdGF0ZVN0cmluZyA9IFNxdWFyZVN0YXRlW3RvU3RhdGVdO1xuICAgICAgICBpZiAoZnJvbVN0YXRlID09PSB0b1N0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gYHNxdWFyZS0ke2Zyb21TdGF0ZVN0cmluZ31gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgc3F1YXJlLSR7ZnJvbVN0YXRlU3RyaW5nfS10by0ke3RvU3RhdGVTdHJpbmd9YDtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5zdmcuc2V0QXR0cmlidXRlKCdpZCcsICdnYW1lLXN2ZycpO1xuICAgICAgICBjb25zdCB2aWV3Qm94U2l6ZSA9IEdhbWVWaWV3LnNxdWFyZVNpemUgKiA4ICsgR2FtZVZpZXcubWFyZ2luV2lkdGggKiAyO1xuICAgICAgICB0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCBgMCAwICR7dmlld0JveFNpemV9ICR7dmlld0JveFNpemV9YCk7XG4gICAgICAgIHRoaXMuc3ZnLmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmNyZWF0ZURlZnMoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVCb2FyZCgpO1xuICAgICAgICB0aGlzLmNyZWF0ZURpc2NWaWV3cygpO1xuICAgIH1cbiAgICBjcmVhdGVEZWZzKCkge1xuICAgICAgICBjb25zdCBkZWZzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdkZWZzJyk7XG4gICAgICAgIGZvciAoY29uc3QgW2lkLCBjZW50ZXJDb2xvciwgc2lkZUNvbG9yXSBvZiBbXG4gICAgICAgICAgICBbR2FtZVZpZXcuYmxhY2tEaXNjR3JhZGllbnRJZCwgJ3JnYigzMiwgMzIsIDMyKScsICdyZ2IoMjQsIDI0LCAyNCknXSxcbiAgICAgICAgICAgIFtHYW1lVmlldy53aGl0ZURpc2NHcmFkaWVudElkLCAncmdiKDIyNCwgMjI0LCAyNDQpJywgJ3JnYigxNjgsIDE2OCwgMTY4KSddLFxuICAgICAgICBdKSB7XG4gICAgICAgICAgICBjb25zdCBncmFkaWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTkFNRVNQQUNFLCAncmFkaWFsR3JhZGllbnQnKTtcbiAgICAgICAgICAgIGdyYWRpZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05BTUVTUEFDRSwgJ3N0b3AnKTtcbiAgICAgICAgICAgICAgICBzdG9wMS5zZXRBdHRyaWJ1dGUoJ29mZnNldCcsICc5MCUnKTtcbiAgICAgICAgICAgICAgICBzdG9wMS5zZXRBdHRyaWJ1dGUoJ3N0b3AtY29sb3InLCBjZW50ZXJDb2xvcik7XG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYXBwZW5kQ2hpbGQoc3RvcDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3AyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdzdG9wJyk7XG4gICAgICAgICAgICAgICAgc3RvcDIuc2V0QXR0cmlidXRlKCdvZmZzZXQnLCAnMTAwJScpO1xuICAgICAgICAgICAgICAgIHN0b3AyLnNldEF0dHJpYnV0ZSgnc3RvcC1jb2xvcicsIHNpZGVDb2xvcik7XG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYXBwZW5kQ2hpbGQoc3RvcDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmcy5hcHBlbmRDaGlsZChncmFkaWVudCk7XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdmaWx0ZXInKTtcbiAgICAgICAgICAgIGZpbHRlci5zZXRBdHRyaWJ1dGUoJ2lkJywgR2FtZVZpZXcuc2hhZG93RmlsdGVySWQpO1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRyb3BTaGFkb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05BTUVTUEFDRSwgJ2ZlRHJvcFNoYWRvdycpO1xuICAgICAgICAgICAgICAgIGRyb3BTaGFkb3cuc2V0QXR0cmlidXRlKCdkeCcsICcwJyk7XG4gICAgICAgICAgICAgICAgZHJvcFNoYWRvdy5zZXRBdHRyaWJ1dGUoJ2R5JywgJzAnKTtcbiAgICAgICAgICAgICAgICBkcm9wU2hhZG93LnNldEF0dHJpYnV0ZSgnc3RkRGV2aWF0aW9uJywgJzAuMycpO1xuICAgICAgICAgICAgICAgIGRyb3BTaGFkb3cuc2V0QXR0cmlidXRlKCdmbG9vZC1jb2xvcicsICdibGFjaycpO1xuICAgICAgICAgICAgICAgIGRyb3BTaGFkb3cuc2V0QXR0cmlidXRlKCdmbG9vZC1vcGFjaXR5JywgJzEnKTtcbiAgICAgICAgICAgICAgICBmaWx0ZXIuYXBwZW5kQ2hpbGQoZHJvcFNoYWRvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZzLmFwcGVuZENoaWxkKGZpbHRlcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIHRyYW5zaXRpb24gYW5pbWF0aW9ucyBmb3IgYWxsIHBvc3NpYmxlIHN0YXRlIGNvbWJpbmF0aW9ucy5cbiAgICAgICAgZm9yIChjb25zdCBmcm9tU3RhdGVTdHJpbmcgaW4gU3F1YXJlU3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZyb21TdGF0ZSA9IE51bWJlcihmcm9tU3RhdGVTdHJpbmcpO1xuICAgICAgICAgICAgaWYgKGlzTmFOKGZyb21TdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgdG9TdGF0ZVN0cmluZyBpbiBTcXVhcmVTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvU3RhdGUgPSBOdW1iZXIodG9TdGF0ZVN0cmluZyk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHRvU3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZnJvbVN0YXRlID09PSBTcXVhcmVTdGF0ZS5FbXB0eSAmJiB0b1N0YXRlID09PSBTcXVhcmVTdGF0ZS5FbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmcy5hcHBlbmRDaGlsZChHYW1lVmlldy5jcmVhdGVTcXVhcmVTdGF0ZVRyYW5zaXRpb24oZnJvbVN0YXRlLCB0b1N0YXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQoZGVmcyk7XG4gICAgfVxuICAgIGNyZWF0ZUJvYXJkKCkge1xuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdyZWN0Jyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZU5hbWUgb2YgWyd4JywgJ3knXSkge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIEdhbWVWaWV3Lm1hcmdpbldpZHRoLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGVOYW1lIG9mIFsnd2lkdGgnLCAnaGVpZ2h0J10pIHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCAoR2FtZVZpZXcuc3F1YXJlU2l6ZSAqIDgpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmFja2dyb3VuZC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBHYW1lVmlldy5ib2FyZEJhY2tncm91bmRDb2xvcik7XG4gICAgICAgICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kKTtcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBncmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdnJyk7XG4gICAgICAgICAgICBncmlkLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XG4gICAgICAgICAgICBncmlkLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgR2FtZVZpZXcuZ3JpZFN0cm9rZVdpZHRoLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gR2FtZVZpZXcubWFyZ2luV2lkdGggKyBpICogR2FtZVZpZXcuc3F1YXJlU2l6ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBiMSA9IEdhbWVWaWV3Lm1hcmdpbldpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGIyID0gR2FtZVZpZXcubWFyZ2luV2lkdGggKyBHYW1lVmlldy5zcXVhcmVTaXplICogODtcbiAgICAgICAgICAgICAgICBncmlkLmFwcGVuZENoaWxkKEdhbWVWaWV3LmNyZWF0ZUxpbmUoYSwgYjEsIGEsIGIyKSk7XG4gICAgICAgICAgICAgICAgZ3JpZC5hcHBlbmRDaGlsZChHYW1lVmlldy5jcmVhdGVMaW5lKGIxLCBhLCBiMiwgYSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQoZ3JpZCk7XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYm9yZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdyZWN0Jyk7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgeHlTdHJpbmcgPSAoR2FtZVZpZXcubWFyZ2luV2lkdGggLSBHYW1lVmlldy5ib3JkZXJTdHJva2VXaWR0aCAqIDAuNSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBib3JkZXIuc2V0QXR0cmlidXRlKCd4JywgeHlTdHJpbmcpO1xuICAgICAgICAgICAgICAgIGJvcmRlci5zZXRBdHRyaWJ1dGUoJ3knLCB4eVN0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZVN0cmluZyA9IChHYW1lVmlldy5zcXVhcmVTaXplICogOCArIEdhbWVWaWV3LmJvcmRlclN0cm9rZVdpZHRoKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGJvcmRlci5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgc2l6ZVN0cmluZyk7XG4gICAgICAgICAgICAgICAgYm9yZGVyLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZVN0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzU3RyaW5nID0gKEdhbWVWaWV3LmJvcmRlclN0cm9rZVdpZHRoICogMC41KS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGJvcmRlci5zZXRBdHRyaWJ1dGUoJ3J4JywgcmFkaXVzU3RyaW5nKTtcbiAgICAgICAgICAgICAgICBib3JkZXIuc2V0QXR0cmlidXRlKCdyeScsIHJhZGl1c1N0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib3JkZXIuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbiAgICAgICAgICAgIGJvcmRlci5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsIEdhbWVWaWV3LmJvcmRlclN0cm9rZVdpZHRoLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgYm9yZGVyLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdub25lJyk7XG4gICAgICAgICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZChib3JkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRvdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05BTUVTUEFDRSwgJ2cnKTtcbiAgICAgICAgICAgIGRvdHMuc2V0QXR0cmlidXRlKCdmaWxsJywgJ2JsYWNrJyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgWzIsIDZdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3ggPSBHYW1lVmlldy5tYXJnaW5XaWR0aCArIGkgKiBHYW1lVmlldy5zcXVhcmVTaXplO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaiBvZiBbMiwgNl0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3kgPSBHYW1lVmlldy5tYXJnaW5XaWR0aCArIGogKiBHYW1lVmlldy5zcXVhcmVTaXplO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05BTUVTUEFDRSwgJ2NpcmNsZScpO1xuICAgICAgICAgICAgICAgICAgICBkb3Quc2V0QXR0cmlidXRlKCdjeCcsIGN4LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBkb3Quc2V0QXR0cmlidXRlKCdjeScsIGN5LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBkb3Quc2V0QXR0cmlidXRlKCdyJywgR2FtZVZpZXcuZG90UmFkaXVzLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBkb3RzLmFwcGVuZENoaWxkKGRvdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQoZG90cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlRGlzY1ZpZXdzKCkge1xuICAgICAgICB0aGlzLnNxdWFyZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyArK2opIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJYID0gR2FtZVZpZXcubWFyZ2luV2lkdGggKyAoaiArIDAuNSkgKiBHYW1lVmlldy5zcXVhcmVTaXplO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlclkgPSBHYW1lVmlldy5tYXJnaW5XaWR0aCArIChpICsgMC41KSAqIEdhbWVWaWV3LnNxdWFyZVNpemU7XG4gICAgICAgICAgICAgICAgcm93LnB1c2gobmV3IERpc2NWaWV3KHRoaXMuc3ZnLCBjZW50ZXJYLCBjZW50ZXJZKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNxdWFyZXMucHVzaChyb3cpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVTcXVhcmVTdGF0ZVRyYW5zaXRpb24oZnJvbVN0YXRlLCB0b1N0YXRlKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdnJyk7XG4gICAgICAgIGdyb3VwLnNldEF0dHJpYnV0ZSgnaWQnLCBHYW1lVmlldy5nZXRTcXVhcmVTdGF0ZVRyYW5zaXRpb25JZChmcm9tU3RhdGUsIHRvU3RhdGUpKTtcbiAgICAgICAgY29uc3QgZnJvbVZpc3VhbFByb3BzID0gR2FtZVZpZXcuZ2V0RGlzY1Zpc3VhbFByb3BzKGZyb21TdGF0ZSwgdG9TdGF0ZSk7XG4gICAgICAgIGNvbnN0IHRvVmlzdWFsUHJvcHMgPSBHYW1lVmlldy5nZXREaXNjVmlzdWFsUHJvcHModG9TdGF0ZSwgZnJvbVN0YXRlKTtcbiAgICAgICAgLy8gSW4gU2FmYXJpLCBTVkcgZWxlbWVudHMgd2l0aCBkcm9wIHNoYWRvd3MgYXJlIHJhc3Rlcml6ZWQgYXQgYSBsb3cgcmVzb2x1dGlvbiwgc28gd2UgY3JlYXRlIGFcbiAgICAgICAgLy8gc2VwYXJhdGUgc2hhZG93IGVsZW1lbnQgdG8gbWFrZSB0aGUgZGlzYyBsb29rIGJldHRlci4gVGhlIHR3byBlbGVtZW50cyBhcmUgZ3JvdXBlZCB0b2dldGhlclxuICAgICAgICAvLyB3aXRoIGNvbW1vbiB0cmFuc2Zvcm1hdGlvbnMuXG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTkFNRVNQQUNFLCAncmVjdCcpO1xuICAgICAgICBzaGFkb3cuc2V0QXR0cmlidXRlKCdmaWxsJywgJ2JsYWNrJyk7XG4gICAgICAgIHNoYWRvdy5zZXRBdHRyaWJ1dGUoJ2ZpbHRlcicsIGB1cmwoJyMke0dhbWVWaWV3LnNoYWRvd0ZpbHRlcklkfScpYCk7XG4gICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKHNoYWRvdyk7XG4gICAgICAgIGNvbnN0IGxlZ2FsTW92ZUluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTkFNRVNQQUNFLCAncmVjdCcpO1xuICAgICAgICAvLyBSb3RhdGUgdGhlIGxlZ2FsIG1vdmUgaW5kaWNhdG9yIHNvIGl0IGhhcyBhIGRpYW1vbmQgc2hhcGUuXG4gICAgICAgIGxlZ2FsTW92ZUluZGljYXRvci5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsICdyb3RhdGUoNDUsIDAsIDApJyk7XG4gICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKGxlZ2FsTW92ZUluZGljYXRvcik7XG4gICAgICAgIGNvbnN0IGJsYWNrRGlzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTkFNRVNQQUNFLCAncmVjdCcpO1xuICAgICAgICBibGFja0Rpc2Muc2V0QXR0cmlidXRlKCdmaWxsJywgYHVybCgnIyR7R2FtZVZpZXcuYmxhY2tEaXNjR3JhZGllbnRJZH0nKWApO1xuICAgICAgICBncm91cC5hcHBlbmRDaGlsZChibGFja0Rpc2MpO1xuICAgICAgICBjb25zdCB3aGl0ZURpc2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05BTUVTUEFDRSwgJ3JlY3QnKTtcbiAgICAgICAgd2hpdGVEaXNjLnNldEF0dHJpYnV0ZSgnZmlsbCcsIGB1cmwoJyMke0dhbWVWaWV3LndoaXRlRGlzY0dyYWRpZW50SWR9JylgKTtcbiAgICAgICAgZ3JvdXAuYXBwZW5kQ2hpbGQod2hpdGVEaXNjKTtcbiAgICAgICAgLy8gSWYgdGhlIHNxdWFyZSB0cmFuc2l0aW9ucyBmcm9tIGEgbGVnYWwgbW92ZSB0byBhIGRpc2MsIHJvdGF0ZSB0aGUgZGlzYyBhbmQgaXRzIHNoYWRvdyBieSA0NVxuICAgICAgICAvLyBkZWdyZWVzIHRvIGFsaWduIGl0IHdpdGggdGhlIGxlZ2FsIG1vdmUgaW5kaWNhdG9yIGluIHRoZSB0cmFuc2l0aW9uIGFuaW1hdGlvbi5cbiAgICAgICAgY29uc3QgaXNMZWdhbE1vdmVUb0Rpc2MgPSAoZnJvbVN0YXRlID09PSBTcXVhcmVTdGF0ZS5CbGFja0xlZ2FsTW92ZSB8fCBmcm9tU3RhdGUgPT09IFNxdWFyZVN0YXRlLldoaXRlTGVnYWxNb3ZlKSAmJlxuICAgICAgICAgICAgKHRvU3RhdGUgPT09IFNxdWFyZVN0YXRlLkJsYWNrIHx8IHRvU3RhdGUgPT09IFNxdWFyZVN0YXRlLldoaXRlKTtcbiAgICAgICAgaWYgKGlzTGVnYWxNb3ZlVG9EaXNjKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgW3NoYWRvdywgYmxhY2tEaXNjLCB3aGl0ZURpc2NdKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsICdyb3RhdGUoNDUsIDAsIDApJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIGRpc2MgZmxpcHMsIHBsYXkgYW4gYW5pbWF0aW9uIHRoYXQgc3F1YXNoZXMgdGhlIGRpc2MgaG9yaXpvbnRhbGx5IGFuZCB0aGVuIHNjYWxlcyBpdFxuICAgICAgICAvLyBiYWNrLlxuICAgICAgICBjb25zdCBpc0ZsaXAgPSAoZnJvbVN0YXRlID09PSBTcXVhcmVTdGF0ZS5CbGFjayAmJiB0b1N0YXRlID09PSBTcXVhcmVTdGF0ZS5XaGl0ZSkgfHxcbiAgICAgICAgICAgIChmcm9tU3RhdGUgPT09IFNxdWFyZVN0YXRlLldoaXRlICYmIHRvU3RhdGUgPT09IFNxdWFyZVN0YXRlLkJsYWNrKTtcbiAgICAgICAgaWYgKGlzRmxpcCkge1xuICAgICAgICAgICAgY29uc3QgYW5pbWF0ZVRyYW5zZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTkFNRVNQQUNFLCAnYW5pbWF0ZVRyYW5zZm9ybScpO1xuICAgICAgICAgICAgYW5pbWF0ZVRyYW5zZm9ybS5zZXRBdHRyaWJ1dGUoJ2F0dHJpYnV0ZU5hbWUnLCAndHJhbnNmb3JtJyk7XG4gICAgICAgICAgICBhbmltYXRlVHJhbnNmb3JtLnNldEF0dHJpYnV0ZSgnYXR0cmlidXRlVHlwZScsICdYTUwnKTtcbiAgICAgICAgICAgIGFuaW1hdGVUcmFuc2Zvcm0uc2V0QXR0cmlidXRlKCdkdXInLCBgJHtHYW1lVmlldy5hbmltYXRpb25EdXJhdGlvbn1zYCk7XG4gICAgICAgICAgICBhbmltYXRlVHJhbnNmb3JtLnNldEF0dHJpYnV0ZSgnY2FsY01vZGUnLCAnc3BsaW5lJyk7XG4gICAgICAgICAgICBhbmltYXRlVHJhbnNmb3JtLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdmcmVlemUnKTtcbiAgICAgICAgICAgIGFuaW1hdGVUcmFuc2Zvcm0uc2V0QXR0cmlidXRlKCd0eXBlJywgJ3NjYWxlJyk7XG4gICAgICAgICAgICBhbmltYXRlVHJhbnNmb3JtLnNldEF0dHJpYnV0ZSgndmFsdWVzJywgJzEgMTsgMC4yIDE7IDEgMScpO1xuICAgICAgICAgICAgYW5pbWF0ZVRyYW5zZm9ybS5zZXRBdHRyaWJ1dGUoJ2tleVRpbWVzJywgJzA7MC41OzEnKTtcbiAgICAgICAgICAgIGFuaW1hdGVUcmFuc2Zvcm0uc2V0QXR0cmlidXRlKCdrZXlTcGxpbmVzJywgJzAuNSAwLjEgMC45IDAuNTswLjEgMC41IDAuNSAwLjknKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBbc2hhZG93LCBibGFja0Rpc2MsIHdoaXRlRGlzY10pIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGFuaW1hdGVUcmFuc2Zvcm0uY2xvbmVOb2RlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBbc2hhZG93LCBsZWdhbE1vdmVJbmRpY2F0b3IsIGJsYWNrRGlzYywgd2hpdGVEaXNjXSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGVOYW1lIG9mIFsneCcsICd5J10pIHtcbiAgICAgICAgICAgICAgICBHYW1lVmlldy5hZGRBdHRyaWJ1dGVPckFuaW1hdGlvbihlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCAtZnJvbVZpc3VhbFByb3BzLnNpemUgKiAwLjUsIC10b1Zpc3VhbFByb3BzLnNpemUgKiAwLjUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGVOYW1lIG9mIFsnd2lkdGgnLCAnaGVpZ2h0J10pIHtcbiAgICAgICAgICAgICAgICBHYW1lVmlldy5hZGRBdHRyaWJ1dGVPckFuaW1hdGlvbihlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBmcm9tVmlzdWFsUHJvcHMuc2l6ZSwgdG9WaXN1YWxQcm9wcy5zaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlTmFtZSBvZiBbJ3J4JywgJ3J5J10pIHtcbiAgICAgICAgICAgICAgICBHYW1lVmlldy5hZGRBdHRyaWJ1dGVPckFuaW1hdGlvbihlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBmcm9tVmlzdWFsUHJvcHMuY29ybmVyUmFkaXVzLCB0b1Zpc3VhbFByb3BzLmNvcm5lclJhZGl1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgR2FtZVZpZXcuYWRkQXR0cmlidXRlT3JBbmltYXRpb24oc2hhZG93LCAnb3BhY2l0eScsIGZyb21WaXN1YWxQcm9wcy5zaGFkb3dPcGFjaXR5LCB0b1Zpc3VhbFByb3BzLnNoYWRvd09wYWNpdHkpO1xuICAgICAgICBHYW1lVmlldy5hZGRBdHRyaWJ1dGVPckFuaW1hdGlvbihsZWdhbE1vdmVJbmRpY2F0b3IsICdmaWxsJywgZnJvbVZpc3VhbFByb3BzLmxlZ2FsTW92ZUluZGljYXRvckZpbGwsIHRvVmlzdWFsUHJvcHMubGVnYWxNb3ZlSW5kaWNhdG9yRmlsbCk7XG4gICAgICAgIEdhbWVWaWV3LmFkZEF0dHJpYnV0ZU9yQW5pbWF0aW9uKGxlZ2FsTW92ZUluZGljYXRvciwgJ2ZpbGwtb3BhY2l0eScsIGZyb21WaXN1YWxQcm9wcy5sZWdhbE1vdmVJbmRpY2F0b3JPcGFjaXR5LCB0b1Zpc3VhbFByb3BzLmxlZ2FsTW92ZUluZGljYXRvck9wYWNpdHkpO1xuICAgICAgICBHYW1lVmlldy5hZGRBdHRyaWJ1dGVPckFuaW1hdGlvbihibGFja0Rpc2MsICdmaWxsLW9wYWNpdHknLCBmcm9tVmlzdWFsUHJvcHMuYmxhY2tEaXNjT3BhY2l0eSwgdG9WaXN1YWxQcm9wcy5ibGFja0Rpc2NPcGFjaXR5KTtcbiAgICAgICAgR2FtZVZpZXcuYWRkQXR0cmlidXRlT3JBbmltYXRpb24od2hpdGVEaXNjLCAnZmlsbC1vcGFjaXR5JywgZnJvbVZpc3VhbFByb3BzLndoaXRlRGlzY09wYWNpdHksIHRvVmlzdWFsUHJvcHMud2hpdGVEaXNjT3BhY2l0eSk7XG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG4gICAgc3RhdGljIGdldERpc2NWaXN1YWxQcm9wcyhzdGF0ZSwgY291bnRlcnBhcnQpIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSBTcXVhcmVTdGF0ZS5FbXB0eSAmJiBjb3VudGVycGFydCA9PT0gU3F1YXJlU3RhdGUuRW1wdHkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3RhdGUgYW5kIGNvdW50ZXJwYXJ0IGNhbm5vdCBib3RoIGJlIGVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNpemU7XG4gICAgICAgIGxldCBjb3JuZXJSYWRpdXM7XG4gICAgICAgIGxldCBzaGFkb3dPcGFjaXR5O1xuICAgICAgICBsZXQgbGVnYWxNb3ZlSW5kaWNhdG9yRmlsbDtcbiAgICAgICAgbGV0IGxlZ2FsTW92ZUluZGljYXRvck9wYWNpdHk7XG4gICAgICAgIGxldCBibGFja0Rpc2NPcGFjaXR5O1xuICAgICAgICBsZXQgd2hpdGVEaXNjT3BhY2l0eTtcbiAgICAgICAgaWYgKHN0YXRlID09PSBTcXVhcmVTdGF0ZS5FbXB0eSkge1xuICAgICAgICAgICAgLy8gTm8gaW5maW5pdGUgcmVjdXJzaW9uIGJlY2F1c2UgYHN0YXRlYCBhbmQgYGNvdW50ZXJwYXJ0YCBjYW5ub3QgYm90aCBiZSBgRW1wdHlgLlxuICAgICAgICAgICAgY29uc3QgY291bnRlcnBhcnRWaXN1YWxQcm9wcyA9IEdhbWVWaWV3LmdldERpc2NWaXN1YWxQcm9wcyhjb3VudGVycGFydCwgc3RhdGUpO1xuICAgICAgICAgICAgc2l6ZSA9IGNvdW50ZXJwYXJ0VmlzdWFsUHJvcHMuc2l6ZSAqIDAuNTtcbiAgICAgICAgICAgIGNvcm5lclJhZGl1cyA9IGNvdW50ZXJwYXJ0VmlzdWFsUHJvcHMuY29ybmVyUmFkaXVzICogMC41O1xuICAgICAgICAgICAgc2hhZG93T3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBsZWdhbE1vdmVJbmRpY2F0b3JGaWxsID0gY291bnRlcnBhcnRWaXN1YWxQcm9wcy5sZWdhbE1vdmVJbmRpY2F0b3JGaWxsO1xuICAgICAgICAgICAgbGVnYWxNb3ZlSW5kaWNhdG9yT3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBibGFja0Rpc2NPcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIHdoaXRlRGlzY09wYWNpdHkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgU3F1YXJlU3RhdGUuQmxhY2s6XG4gICAgICAgICAgICAgICAgY2FzZSBTcXVhcmVTdGF0ZS5XaGl0ZTpcbiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IEdhbWVWaWV3LmRpc2NSYWRpdXMgKiAyO1xuICAgICAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXMgPSBHYW1lVmlldy5kaXNjUmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICBzaGFkb3dPcGFjaXR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgbGVnYWxNb3ZlSW5kaWNhdG9yT3BhY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gU3F1YXJlU3RhdGUuQmxhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWNrRGlzY09wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpdGVEaXNjT3BhY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFja0Rpc2NPcGFjaXR5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlRGlzY09wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgU3F1YXJlU3RhdGUuQmxhY2tMZWdhbE1vdmU6XG4gICAgICAgICAgICAgICAgY2FzZSBTcXVhcmVTdGF0ZS5XaGl0ZUxlZ2FsTW92ZTpcbiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IEdhbWVWaWV3LmxlZ2FsTW92ZVNxdWFyZVNpemU7XG4gICAgICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1cyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRvd09wYWNpdHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZWdhbE1vdmVJbmRpY2F0b3JPcGFjaXR5ID0gMC41O1xuICAgICAgICAgICAgICAgICAgICBibGFja0Rpc2NPcGFjaXR5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpdGVEaXNjT3BhY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgU3F1YXJlU3RhdGUuQmxhY2s6XG4gICAgICAgICAgICAgICAgY2FzZSBTcXVhcmVTdGF0ZS5CbGFja0xlZ2FsTW92ZTpcbiAgICAgICAgICAgICAgICAgICAgbGVnYWxNb3ZlSW5kaWNhdG9yRmlsbCA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgU3F1YXJlU3RhdGUuV2hpdGU6XG4gICAgICAgICAgICAgICAgY2FzZSBTcXVhcmVTdGF0ZS5XaGl0ZUxlZ2FsTW92ZTpcbiAgICAgICAgICAgICAgICAgICAgbGVnYWxNb3ZlSW5kaWNhdG9yRmlsbCA9ICd3aGl0ZSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgY29ybmVyUmFkaXVzLFxuICAgICAgICAgICAgc2hhZG93T3BhY2l0eSxcbiAgICAgICAgICAgIGxlZ2FsTW92ZUluZGljYXRvckZpbGwsXG4gICAgICAgICAgICBsZWdhbE1vdmVJbmRpY2F0b3JPcGFjaXR5LFxuICAgICAgICAgICAgYmxhY2tEaXNjT3BhY2l0eSxcbiAgICAgICAgICAgIHdoaXRlRGlzY09wYWNpdHlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGFkZEF0dHJpYnV0ZU9yQW5pbWF0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICBpZiAob2xkVmFsdWUgPT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBuZXdWYWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbmltYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdhbmltYXRlJyk7XG4gICAgICAgIGFuaW1hdGUuc2V0QXR0cmlidXRlKCdhdHRyaWJ1dGVOYW1lJywgYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIGFuaW1hdGUuc2V0QXR0cmlidXRlKCdkdXInLCBgJHtHYW1lVmlldy5hbmltYXRpb25EdXJhdGlvbn1zYCk7XG4gICAgICAgIGFuaW1hdGUuc2V0QXR0cmlidXRlKCdjYWxjTW9kZScsICdzcGxpbmUnKTtcbiAgICAgICAgYW5pbWF0ZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnZnJlZXplJyk7XG4gICAgICAgIGFuaW1hdGUuc2V0QXR0cmlidXRlKCd2YWx1ZXMnLCBgJHtvbGRWYWx1ZX07JHtuZXdWYWx1ZX1gKTtcbiAgICAgICAgYW5pbWF0ZS5zZXRBdHRyaWJ1dGUoJ2tleVRpbWVzJywgJzA7MScpO1xuICAgICAgICBhbmltYXRlLnNldEF0dHJpYnV0ZSgna2V5U3BsaW5lcycsICcwLjEgMC41IDAuNSAwLjknKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChhbmltYXRlKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUxpbmUoeDEsIHkxLCB4MiwgeTIpIHtcbiAgICAgICAgY29uc3QgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTkFNRVNQQUNFLCAnbGluZScpO1xuICAgICAgICBsaW5lLnNldEF0dHJpYnV0ZSgneDEnLCB4MS50b1N0cmluZygpKTtcbiAgICAgICAgbGluZS5zZXRBdHRyaWJ1dGUoJ3kxJywgeTEudG9TdHJpbmcoKSk7XG4gICAgICAgIGxpbmUuc2V0QXR0cmlidXRlKCd4MicsIHgyLnRvU3RyaW5nKCkpO1xuICAgICAgICBsaW5lLnNldEF0dHJpYnV0ZSgneTInLCB5Mi50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfVxufVxuR2FtZVZpZXcuc3F1YXJlU2l6ZSA9IDEwO1xuR2FtZVZpZXcubWFyZ2luV2lkdGggPSAzO1xuR2FtZVZpZXcuZ3JpZFN0cm9rZVdpZHRoID0gMC4yO1xuR2FtZVZpZXcuYm9yZGVyU3Ryb2tlV2lkdGggPSAxO1xuR2FtZVZpZXcuZG90UmFkaXVzID0gMC43NTtcbkdhbWVWaWV3LmRpc2NSYWRpdXMgPSA0O1xuR2FtZVZpZXcubGVnYWxNb3ZlU3F1YXJlU2l6ZSA9IDQ7XG5HYW1lVmlldy5ibGFja0Rpc2NHcmFkaWVudElkID0gJ2JsYWNrLWRpc2MtZ3JhZGllbnQnO1xuR2FtZVZpZXcud2hpdGVEaXNjR3JhZGllbnRJZCA9ICd3aGl0ZS1kaXNjLWdyYWRpZW50JztcbkdhbWVWaWV3LnNoYWRvd0ZpbHRlcklkID0gJ3NoYWRvdy1maWx0ZXInO1xuR2FtZVZpZXcuYm9hcmRCYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDYzLCAxNDIsIDEwNiknO1xuR2FtZVZpZXcuYW5pbWF0aW9uRHVyYXRpb24gPSAwLjU7XG4vKipcbiAqIEEgaGVscGVyIGNsYXNzIHRoYXQgbGlzdGVucyB0byB1c2VyIGNsaWNrcyBvbiB0aGUgc3F1YXJlcyBvZiBsZWdhbCBtb3Zlcy5cbiAqL1xuY2xhc3MgU1ZHQ2xpY2tIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzdmcpIHtcbiAgICAgICAgdGhpcy5zdmcgPSBzdmc7XG4gICAgICAgIC8vIFVzZSBhbiBhcnJvdyBmdW5jdGlvbiB0byBiaW5kIHRoZSBgdGhpc2AgY29udGV4dC5cbiAgICAgICAgdGhpcy5vbkNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sZWdhbE1vdmVGbGF0SW5kaWNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBObyBnZXRNb3ZlKCkgY2FsbCB3YXMgbWFkZS5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvbHZlQWN0aW9uUHJvbWlzZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGxlZ2FsIG1vdmUgaXMgYXZhaWxhYmxlIGJ1dCBhbiBhY3Rpb24gcHJvbWlzZSBpcyBzZXQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucmVzb2x2ZUFjdGlvblByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xlZ2FsIG1vdmVzIGFyZSBhdmFpbGFibGUgYnV0IG5vIGFjdGlvbiBwcm9taXNlIGlzIHNldCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2xpZW50UG9pbnQgPSBuZXcgRE9NUG9pbnQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICAgICAgICBjb25zdCBzY3JlZW5DVE0gPSB0aGlzLnN2Zy5nZXRTY3JlZW5DVE0oKTtcbiAgICAgICAgICAgIGlmIChzY3JlZW5DVE0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZXQgdGhlIHNjcmVlbiBDVE0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN2Z1BvaW50ID0gY2xpZW50UG9pbnQubWF0cml4VHJhbnNmb3JtKHNjcmVlbkNUTS5pbnZlcnNlKCkpO1xuICAgICAgICAgICAgbGV0IHJvdyA9IChzdmdQb2ludC55IC0gR2FtZVZpZXcubWFyZ2luV2lkdGgpIC8gR2FtZVZpZXcuc3F1YXJlU2l6ZTtcbiAgICAgICAgICAgIGlmIChyb3cgPCAwIHx8IHJvdyA+PSA4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm93ID0gTWF0aC5mbG9vcihyb3cpO1xuICAgICAgICAgICAgbGV0IGNvbHVtbiA9IChzdmdQb2ludC54IC0gR2FtZVZpZXcubWFyZ2luV2lkdGgpIC8gR2FtZVZpZXcuc3F1YXJlU2l6ZTtcbiAgICAgICAgICAgIGlmIChjb2x1bW4gPCAwIHx8IGNvbHVtbiA+PSA4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sdW1uID0gTWF0aC5mbG9vcihjb2x1bW4pO1xuICAgICAgICAgICAgY29uc3QgZmxhdEluZGV4ID0gcm93ICogOCArIGNvbHVtbjtcbiAgICAgICAgICAgIGlmICghdGhpcy5sZWdhbE1vdmVGbGF0SW5kaWNlcy5pbmNsdWRlcyhmbGF0SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xpY2tlZCBvbiBhIHNxdWFyZSBidXQgaXQgaXMgbm90IGEgbGVnYWwgbW92ZS5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXNwb25kIHRoZSBwcm9taXNlIHdpdGggdGhlIGFjdGlvbi5cbiAgICAgICAgICAgIHRoaXMubGVnYWxNb3ZlRmxhdEluZGljZXMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVBY3Rpb25Qcm9taXNlID0gdGhpcy5yZXNvbHZlQWN0aW9uUHJvbWlzZTtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUFjdGlvblByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgcmVzb2x2ZUFjdGlvblByb21pc2UoQWN0aW9uLmZyb21fZmxhdF9pbmRleChmbGF0SW5kZXgpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICB0aGlzLmxlZ2FsTW92ZUZsYXRJbmRpY2VzID0gW107XG4gICAgICAgIHRoaXMucmVzb2x2ZUFjdGlvblByb21pc2UgPSBudWxsO1xuICAgIH1cbiAgICBbU3ltYm9sLmRpc3Bvc2VdKCkge1xuICAgICAgICB0aGlzLnN2Zy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFzeW5jaHJvbm91c2x5IHJldHVybnMgdGhlIHNxdWFyZSB0aGF0IHRoZSBwbGF5ZXIgbWFrZXMgYSBtb3ZlIHRvLlxuICAgICAqL1xuICAgIGdldE1vdmUobGVnYWxNb3Zlcykge1xuICAgICAgICBpZiAobGVnYWxNb3Zlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbGVnYWwgbW92ZSBpcyBhdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxlZ2FsTW92ZUZsYXRJbmRpY2VzID0gbGVnYWxNb3Zlcy5tYXAobW92ZSA9PiBtb3ZlLmZsYXRfaW5kZXgoKSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUFjdGlvblByb21pc2UgPSByZXNvbHZlO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIEEgdmlldyB0aGF0IGRpc3BsYXlzIGEgZGlzYyB0aGF0IG1heSBmaWxsIGluIGEgc3F1YXJlIG9uIHRoZSBib2FyZC5cbiAqL1xuY2xhc3MgRGlzY1ZpZXcge1xuICAgIGNvbnN0cnVjdG9yKHN2ZywgY2VudGVyWCwgY2VudGVyWSkge1xuICAgICAgICB0aGlzLnN2ZyA9IHN2ZztcbiAgICAgICAgdGhpcy5jZW50ZXJYID0gY2VudGVyWDtcbiAgICAgICAgdGhpcy5jZW50ZXJZID0gY2VudGVyWTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFNxdWFyZVN0YXRlLkVtcHR5O1xuICAgICAgICB0aGlzLnVzZUVsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gICAgfVxuICAgIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gU3F1YXJlU3RhdGUuRW1wdHkgJiYgdGhpcy5zdGF0ZSA9PT0gU3F1YXJlU3RhdGUuRW1wdHkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBzcXVhcmUgaXMgZW1wdHkgYmVmb3JlIGFuZCBhZnRlciwgdGhlcmUgaXMgbm90aGluZyB0byBhbmltYXRlLlxuICAgICAgICAgICAgaWYgKHRoaXMudXNlRWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXNlRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZUVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnVzZUVsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudXNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTkFNRVNQQUNFLCAndXNlJyk7XG4gICAgICAgICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZCh0aGlzLnVzZUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25JZCA9IEdhbWVWaWV3LmdldFNxdWFyZVN0YXRlVHJhbnNpdGlvbklkKHRoaXMuc3RhdGUsIHN0YXRlKTtcbiAgICAgICAgdGhpcy51c2VFbGVtZW50LnNldEF0dHJpYnV0ZSgnaHJlZicsIGAjJHt0cmFuc2l0aW9uSWR9YCk7XG4gICAgICAgIHRoaXMudXNlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLmNlbnRlclh9LCAke3RoaXMuY2VudGVyWX0pYCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG59XG4vLyBSdW4gdGhlIG1haW4gZnVuY3Rpb24uXG5tYWluKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5obWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZSA9IE9iamVjdC5jcmVhdGUobW9kdWxlKTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCAnZXhwb3J0cycsIHtcblx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdHNldDogKCkgPT4ge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFUyBNb2R1bGVzIG1heSBub3QgYXNzaWduIG1vZHVsZS5leHBvcnRzIG9yIGV4cG9ydHMuKiwgVXNlIEVTTSBleHBvcnQgc3ludGF4LCBpbnN0ZWFkOiAnICsgbW9kdWxlLmlkKTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy52ID0gKGV4cG9ydHMsIHdhc21Nb2R1bGVJZCwgd2FzbU1vZHVsZUhhc2gsIGltcG9ydHNPYmopID0+IHtcblx0dmFyIHJlcSA9IGZldGNoKF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyB3YXNtTW9kdWxlSGFzaCArIFwiLm1vZHVsZS53YXNtXCIpO1xuXHR2YXIgZmFsbGJhY2sgPSAoKSA9PiAocmVxXG5cdFx0LnRoZW4oKHgpID0+ICh4LmFycmF5QnVmZmVyKCkpKVxuXHRcdC50aGVuKChieXRlcykgPT4gKFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJ5dGVzLCBpbXBvcnRzT2JqKSkpXG5cdFx0LnRoZW4oKHJlcykgPT4gKE9iamVjdC5hc3NpZ24oZXhwb3J0cywgcmVzLmluc3RhbmNlLmV4cG9ydHMpKSkpO1xuXHRyZXR1cm4gcmVxLnRoZW4oKHJlcykgPT4ge1xuXHRcdGlmICh0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKHJlcywgaW1wb3J0c09iailcblx0XHRcdFx0LnRoZW4oXG5cdFx0XHRcdFx0KHJlcykgPT4gKE9iamVjdC5hc3NpZ24oZXhwb3J0cywgcmVzLmluc3RhbmNlLmV4cG9ydHMpKSxcblx0XHRcdFx0XHQoZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYocmVzLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpICE9PSBcImFwcGxpY2F0aW9uL3dhc21cIikge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oXCJgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmdgIGZhaWxlZCBiZWNhdXNlIHlvdXIgc2VydmVyIGRvZXMgbm90IHNlcnZlIHdhc20gd2l0aCBgYXBwbGljYXRpb24vd2FzbWAgTUlNRSB0eXBlLiBGYWxsaW5nIGJhY2sgdG8gYFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlYCB3aGljaCBpcyBzbG93ZXIuIE9yaWdpbmFsIGVycm9yOlxcblwiLCBlKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbGxiYWNrKCk7XG5cdH0pO1xufTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSB1c2VkICdtb2R1bGUnIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTYpO1xuIl0sIm5hbWVzIjpbIndlYnBhY2tRdWV1ZXMiLCJ3ZWJwYWNrRXhwb3J0cyIsIndlYnBhY2tFcnJvciIsInJlc29sdmVRdWV1ZSIsIndhc20iLCJfX3diZ19zZXRfd2FzbSIsInZhbCIsImNhY2hlZFRleHREZWNvZGVyIiwiVGV4dERlY29kZXIiLCJtb2R1bGUiLCJyZXF1aXJlIiwiaWdub3JlQk9NIiwiZmF0YWwiLCJkZWNvZGUiLCJjYWNoZWRVaW50OE1lbW9yeTAiLCJoZWFwIiwiQXJyYXkiLCJmaWxsIiwidW5kZWZpbmVkIiwicHVzaCIsImhlYXBfbmV4dCIsImxlbmd0aCIsImNhY2hlZEludDMyTWVtb3J5MCIsImdldEludDMyTWVtb3J5MCIsImJ5dGVMZW5ndGgiLCJJbnQzMkFycmF5IiwibWVtb3J5IiwiYnVmZmVyIiwiY2FjaGVkVWludDMyTWVtb3J5MCIsInRha2VPYmplY3QiLCJpZHgiLCJyZXQiLCJnZXRPYmplY3QiLCJkcm9wT2JqZWN0IiwiUGxheWVyIiwiT2JqZWN0IiwiZnJlZXplIiwiQmxhY2siLCJXaGl0ZSIsIkFjdGlvbkZpbmFsaXphdGlvbiIsIkZpbmFsaXphdGlvblJlZ2lzdHJ5IiwicmVnaXN0ZXIiLCJ1bnJlZ2lzdGVyIiwicHRyIiwiX193YmdfYWN0aW9uX2ZyZWUiLCJBY3Rpb24iLCJfX3dyYXAiLCJvYmoiLCJjcmVhdGUiLCJwcm90b3R5cGUiLCJfX3diZ19wdHIiLCJfX2Rlc3Ryb3lfaW50b19yYXciLCJ0aGlzIiwiZnJlZSIsIm1hc2siLCJfX3diZ19nZXRfYWN0aW9uX21hc2siLCJCaWdJbnQiLCJhc1VpbnROIiwiYXJnMCIsIl9fd2JnX3NldF9hY3Rpb25fbWFzayIsImZyb21fbWFzayIsImFjdGlvbl9mcm9tX21hc2siLCJwYXNzIiwiYWN0aW9uX3Bhc3MiLCJmcm9tX2ZsYXRfaW5kZXgiLCJmbGF0X2luZGV4IiwiYWN0aW9uX2Zyb21fZmxhdF9pbmRleCIsImZyb21fcm93X2NvbHVtbiIsInJvdyIsImNvbHVtbiIsImFjdGlvbl9mcm9tX3Jvd19jb2x1bW4iLCJpc19wYXNzIiwiYWN0aW9uX2lzX3Bhc3MiLCJhY3Rpb25fZmxhdF9pbmRleCIsImFjdGlvbl9yb3ciLCJhY3Rpb25fY29sdW1uIiwiU3RhdGVGaW5hbGl6YXRpb24iLCJfX3diZ19zdGF0ZV9mcmVlIiwiU3RhdGUiLCJjdXJyZW50X3BsYXllciIsIl9fd2JnX2dldF9zdGF0ZV9jdXJyZW50X3BsYXllciIsIl9fd2JnX3NldF9zdGF0ZV9jdXJyZW50X3BsYXllciIsInBsYXllcl9kaXNjcyIsIm9wcG9uZW50X2Rpc2NzIiwiX193YmdfZ2V0X3N0YXRlX29wcG9uZW50X2Rpc2NzIiwiX193Ymdfc2V0X3N0YXRlX29wcG9uZW50X2Rpc2NzIiwibGVnYWxfbW92ZXMiLCJfX3diZ19nZXRfc3RhdGVfbGVnYWxfbW92ZXMiLCJfX3diZ19zZXRfc3RhdGVfbGVnYWxfbW92ZXMiLCJ3YXNfcGFzcyIsIl9fd2JnX2dldF9zdGF0ZV93YXNfcGFzcyIsIl9fd2JnX3NldF9zdGF0ZV93YXNfcGFzcyIsImlzX2VuZGdhbWUiLCJfX3diZ19nZXRfc3RhdGVfaXNfZW5kZ2FtZSIsIl9fd2JnX3NldF9zdGF0ZV9pc19lbmRnYW1lIiwic3RhdGVfbmV3Iiwic3RlcCIsImFjdGlvbiIsImluc3RhbmNlIiwia2xhc3MiLCJFcnJvciIsIm5hbWUiLCJfYXNzZXJ0Q2xhc3MiLCJwdHIwIiwic3RhdGVfc3RlcCIsImxlZ2FsX21vdmVfdmVjIiwicmV0cHRyIiwiX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlciIsInN0YXRlX2xlZ2FsX21vdmVfdmVjIiwicjAiLCJyMSIsInYxIiwibGVuIiwic2xpY2UiLCJVaW50MzJBcnJheSIsInN1YmFycmF5IiwicmVzdWx0IiwiaSIsImdldEFycmF5SnNWYWx1ZUZyb21XYXNtMCIsIl9fd2JpbmRnZW5fZnJlZSIsImdldF9kaXNjIiwic3RhdGVfZ2V0X2Rpc2MiLCJfX3diZ19hY3Rpb25fbmV3IiwiYWRkSGVhcE9iamVjdCIsIl9fd2JpbmRnZW5fdGhyb3ciLCJhcmcxIiwiVWludDhBcnJheSIsIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0Iiwiam9pbiIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsIl9rIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsIm9wdGlvbnMiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsInNldEF0dHJpYnV0ZXMiLCJpbnNlcnQiLCJkb21BUEkiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJsb2NhbHMiLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsIm1vZHVsZXNUb0RvbSIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4QnlJZGVudGlmaWVyIiwiY3NzIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRFbGVtZW50U3R5bGUiLCJieUluZGV4Iiwic3BsaWNlIiwiYXBpIiwidXBkYXRlIiwibmV3T2JqIiwicmVtb3ZlIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsImluZGV4IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJtZW1vIiwic3R5bGUiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJnZXRUYXJnZXQiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsInN0eWxlRWxlbWVudCIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwidmFsdWUiLCJuZXh0IiwicmVqZWN0ZWQiLCJkb25lIiwidGhlbiIsIm1haW4iLCJzdmdDb250YWluZXIiLCJnYW1lVmlldyIsIkdhbWVWaWV3IiwiY2xpY2tIYW5kbGVyIiwiU1ZHQ2xpY2tIYW5kbGVyIiwiZ2V0U1ZHIiwiZ2FtZVN0YXRlIiwibmV3Iiwic2V0U3F1YXJlU3RhdGVzRnJvbUdhbWVTdGF0ZSIsImxlZ2FsTW92ZXMiLCJhbGVydCIsImdldE1vdmUiLCJTVkdfTkFNRVNQQUNFIiwiU3F1YXJlU3RhdGUiLCJjb25zdHJ1Y3RvciIsImNvbnRhaW5lciIsInN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsImluaXRpYWxpemUiLCJpbm5lckhUTUwiLCJsZWdhbE1vdmVGbGF0SW5kaWNlcyIsIm1vdmUiLCJjdXJyZW50UGxheWVyTGVnYWxNb3ZlU3RhdGUiLCJCbGFja0xlZ2FsTW92ZSIsIldoaXRlTGVnYWxNb3ZlIiwiaXNTYW1lIiwic3F1YXJlU3RhdGVzIiwiaiIsInNxdWFyZVN0YXRlIiwiZmxhdEluZGV4IiwiaW5jbHVkZXMiLCJFbXB0eSIsInNxdWFyZXMiLCJnZXRTdGF0ZSIsInNldFN0YXRlIiwicGF1c2VBbmltYXRpb25zIiwic2V0Q3VycmVudFRpbWUiLCJ1bnBhdXNlQW5pbWF0aW9ucyIsInNldFRpbWVvdXQiLCJhbmltYXRpb25EdXJhdGlvbiIsImdldFNxdWFyZVN0YXRlVHJhbnNpdGlvbklkIiwiZnJvbVN0YXRlIiwidG9TdGF0ZSIsImZyb21TdGF0ZVN0cmluZyIsInRvU3RhdGVTdHJpbmciLCJ2aWV3Qm94U2l6ZSIsInNxdWFyZVNpemUiLCJtYXJnaW5XaWR0aCIsImNyZWF0ZURlZnMiLCJjcmVhdGVCb2FyZCIsImNyZWF0ZURpc2NWaWV3cyIsImRlZnMiLCJjZW50ZXJDb2xvciIsInNpZGVDb2xvciIsImJsYWNrRGlzY0dyYWRpZW50SWQiLCJ3aGl0ZURpc2NHcmFkaWVudElkIiwiZ3JhZGllbnQiLCJzdG9wMSIsInN0b3AyIiwiZmlsdGVyIiwic2hhZG93RmlsdGVySWQiLCJkcm9wU2hhZG93IiwiTnVtYmVyIiwiaXNOYU4iLCJjcmVhdGVTcXVhcmVTdGF0ZVRyYW5zaXRpb24iLCJiYWNrZ3JvdW5kIiwiYXR0cmlidXRlTmFtZSIsImJvYXJkQmFja2dyb3VuZENvbG9yIiwiZ3JpZCIsImdyaWRTdHJva2VXaWR0aCIsImEiLCJiMSIsImIyIiwiY3JlYXRlTGluZSIsImJvcmRlciIsInh5U3RyaW5nIiwiYm9yZGVyU3Ryb2tlV2lkdGgiLCJzaXplU3RyaW5nIiwicmFkaXVzU3RyaW5nIiwiZG90cyIsImN4IiwiY3kiLCJkb3QiLCJkb3RSYWRpdXMiLCJjZW50ZXJYIiwiY2VudGVyWSIsIkRpc2NWaWV3IiwiZ3JvdXAiLCJmcm9tVmlzdWFsUHJvcHMiLCJnZXREaXNjVmlzdWFsUHJvcHMiLCJ0b1Zpc3VhbFByb3BzIiwic2hhZG93IiwibGVnYWxNb3ZlSW5kaWNhdG9yIiwiYmxhY2tEaXNjIiwid2hpdGVEaXNjIiwiYW5pbWF0ZVRyYW5zZm9ybSIsImNsb25lTm9kZSIsImFkZEF0dHJpYnV0ZU9yQW5pbWF0aW9uIiwic2l6ZSIsImNvcm5lclJhZGl1cyIsInNoYWRvd09wYWNpdHkiLCJsZWdhbE1vdmVJbmRpY2F0b3JGaWxsIiwibGVnYWxNb3ZlSW5kaWNhdG9yT3BhY2l0eSIsImJsYWNrRGlzY09wYWNpdHkiLCJ3aGl0ZURpc2NPcGFjaXR5Iiwic3RhdGUiLCJjb3VudGVycGFydCIsImNvdW50ZXJwYXJ0VmlzdWFsUHJvcHMiLCJkaXNjUmFkaXVzIiwibGVnYWxNb3ZlU3F1YXJlU2l6ZSIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJhbmltYXRlIiwieDEiLCJ5MSIsIngyIiwieTIiLCJsaW5lIiwib25DbGljayIsImV2ZW50IiwicmVzb2x2ZUFjdGlvblByb21pc2UiLCJjbGllbnRQb2ludCIsIkRPTVBvaW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJzY3JlZW5DVE0iLCJnZXRTY3JlZW5DVE0iLCJzdmdQb2ludCIsIm1hdHJpeFRyYW5zZm9ybSIsImludmVyc2UiLCJ5IiwiTWF0aCIsImZsb29yIiwieCIsImFkZEV2ZW50TGlzdGVuZXIiLCJTeW1ib2wiLCJkaXNwb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVzZUVsZW1lbnQiLCJ0cmFuc2l0aW9uSWQiLCJjYXRjaCIsImNvbnNvbGUiLCJlcnJvciIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImxvYWRlZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJxdWV1ZSIsImQiLCJmb3JFYWNoIiwiZm4iLCJyIiwiYm9keSIsImhhc0F3YWl0IiwiY3VycmVudERlcHMiLCJvdXRlclJlc29sdmUiLCJkZXBRdWV1ZXMiLCJTZXQiLCJwcm9taXNlIiwicmVqIiwiZGVwcyIsImRlcCIsIndyYXBEZXBzIiwiZ2V0UmVzdWx0IiwiZm5RdWV1ZSIsInEiLCJoYXMiLCJhZGQiLCJlcnIiLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsImhtZCIsImNoaWxkcmVuIiwic2V0IiwicHJvcCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInYiLCJ3YXNtTW9kdWxlSWQiLCJ3YXNtTW9kdWxlSGFzaCIsImltcG9ydHNPYmoiLCJyZXEiLCJmZXRjaCIsInAiLCJmYWxsYmFjayIsImFycmF5QnVmZmVyIiwiYnl0ZXMiLCJXZWJBc3NlbWJseSIsImluc3RhbnRpYXRlIiwicmVzIiwiYXNzaWduIiwiaW5zdGFudGlhdGVTdHJlYW1pbmciLCJoZWFkZXJzIiwid2FybiIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0ZXN0IiwicmVwbGFjZSIsIm5jIl0sInNvdXJjZVJvb3QiOiIifQ==