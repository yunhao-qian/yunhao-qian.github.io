(()=>{"use strict";var e,t,n,r,a={426:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81),a=n.n(r),o=n(645),i=n.n(o)()(a());i.push([e.id,"body {\n  background-color: darkslategray;\n}\n\n.control-container {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: center;\n  align-items: center;\n  row-gap: 15px;\n  column-gap: 30px;\n}\n\n.button-container {\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  column-gap: 15px;\n}\n\n.select-container {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: center;\n  align-items: center;\n  row-gap: 15px;\n  column-gap: 20px;\n}\n\n.select-sub-container {\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  column-gap: 10px;\n}\n\n.select-sub-container label {\n  color: white;\n}\n\n.chessboard-container {\n  max-width: 90vmin;\n  max-height: 90vmin;\n  aspect-ratio: 1;\n  margin: 15px auto 0px auto;\n  padding: 0px;\n}\n\n#chessboard-table {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  border: 4px solid black;\n  border-collapse: collapse;\n  margin: 0px;\n  padding: 0px;\n  box-shadow: 0px 0px 8px black;\n}\n\n#chessboard-table tr {\n  width: 100%;\n  height: 12.5%;\n  border: none;\n  margin: 0px;\n  padding: 0px;\n}\n\n#chessboard-table td {\n  box-sizing: border-box;\n  width: 12.5%;\n  height: 12.5%;\n  border: 2px solid black;\n  margin: 0px;\n  padding: 0px;\n  background-color: mediumseagreen;\n}\n\n.disc {\n  width: 80%;\n  height: 80%;\n  border-radius: 50%;\n  margin: auto;\n  padding: 0px;\n  box-shadow: 0px 0px 4px black;\n  transition-property: width, height, opacity, background-color, box-shadow;\n  transition-duration: 0.8s;\n}\n\n.disc.first {\n  background-color: black;\n}\n\n.disc.second {\n  background-color: white;\n}\n\n.disc.candidate {\n  width: 40%;\n  height: 40%;\n  opacity: 50%;\n  box-shadow: none;\n}\n\n.disc.invisible {\n  opacity: 0;\n}\n",""]);const s=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},81:e=>{e.exports=function(e){return e[1]}},654:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(379),a=n.n(r),o=n(795),i=n.n(o),s=n(569),c=n.n(s),l=n(565),u=n.n(l),d=n(216),f=n.n(d),p=n(589),h=n.n(p),b=n(426),y={};y.styleTagTransform=h(),y.setAttributes=u(),y.insert=c().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=f(),a()(b.Z,y);const v=b.Z&&b.Z.locals?b.Z.locals:void 0},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var f=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=a(p,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var c=r(e,a),l=0;l<o.length;l++){var u=n(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},519:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),n(654);var i,s=Promise.resolve().then((function(){return n(121)})),c=document.querySelector("#start-button"),l=document.querySelector("#end-button"),u=document.querySelector("#undo-button"),d=document.querySelector("#first-player-select"),f=document.querySelector("#second-player-select"),p=document.querySelector("#chessboard-table"),h=[];function b(e){var t=e.player,n=e.chessboardData,o=e.legalMoves;return r(this,void 0,void 0,(function(){var e,r,s;return a(this,(function(a){switch(a.label){case 0:for(e=0;e<8;++e)for(r=0;r<8;++r)switch(s=p.rows[e].cells[r].querySelector(".disc"),n[e][r]){case i.First:s.className="disc first";break;case i.Second:s.className="disc second";break;case i.None:if(o[e][r])switch(t){case i.First:s.className="disc candidate first";break;case i.Second:s.className="disc candidate second"}else s.className="disc invisible candidate"}return[4,new Promise((function(e){return setTimeout(e,800)}))];case 1:return a.sent(),[2]}}))}))}function y(e,t){function n(n,r,a,o){for(var i=!1;r+=o,0<=(n+=a)&&n<8&&0<=r&&r<8;)switch(t[n][r]){case+e:return i;case-e:i=!0;break;default:return!1}return!1}function r(e,t){for(var r=-1;r<=1;++r)for(var a=-1;a<=1;++a)if((0!==r||0!==a)&&n(e,t,r,a))return!0;return!1}for(var a=new Array(8),o=0;o<8;++o){for(var s=new Array(8),c=0;c<8;++c)s[c]=t[o][c]===i.None&&r(o,c);a[o]=s}return a}function v(e){for(var t=0,n=e;t<n.length;t++)for(var r=0,a=n[t];r<a.length;r++)if(a[r])return!0;return!1}!function(){p.innerHTML="";for(var e=function(e){for(var t=document.createElement("tr"),n=function(n){var r=document.createElement("div");r.className="disc invisible candidate";var a=document.createElement("td");a.addEventListener("click",(function(){return function(e,t){for(var n=0;n<h.length;)h[n](e,t)?h.splice(n,1):++n}(e,n)})),a.appendChild(r),t.appendChild(a)},r=0;r<8;++r)n(r);p.appendChild(t)},t=0;t<8;++t)e(t)}(),function(e){e[e.None=0]="None",e[e.First=1]="First",e[e.Second=-1]="Second"}(i||(i={}));var m=function(){function e(e,t){c.disabled=!0,d.disabled=!0,f.disabled=!0,this.firstPlayer=e,this.secondPlayer=t,this.endFlag=!1,this.undoFlag=!1,this.stateHistory=[];for(var n=new Array(8),r=0;r<8;++r)n[r]=new Array(8).fill(i.None);var a=i.First;n[3][4]=i.First,n[4][3]=i.First,n[3][3]=i.Second,n[4][4]=i.Second,this.state={player:a,chessboardData:n,legalMoves:y(a,n)},l.disabled=!1}return e.prototype.waitForEndOrUndoClick=function(){this.endFlag=!1,this.undoFlag=!1;var e=this;return new Promise((function(t){l.onclick=function(){l.onclick=function(){},u.onclick=function(){},e.endFlag=!0,t(null)},u.onclick=function(){l.onclick=function(){},u.onclick=function(){},e.undoFlag=!0,t(null)}}))},e.prototype.undo=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return 1===this.stateHistory.length&&(u.disabled=!0),this.state=this.stateHistory.pop(),[4,b(this.state)];case 1:return e.sent(),[2]}}))}))},e.prototype.end=function(){return r(this,void 0,void 0,(function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:for(l.disabled=!0,u.disabled=!0,e=new Array(8),t=new Array(8),n=0;n<8;++n)e[n]=new Array(8).fill(i.None),t[n]=new Array(8).fill(!1);return[4,b({player:i.First,chessboardData:e,legalMoves:t})];case 1:return r.sent(),c.disabled=!1,d.disabled=!1,f.disabled=!1,[2]}}))}))},e.prototype.run=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,s,c,l,d,f,p,h,m;return a(this,(function(a){switch(a.label){case 0:return[4,Promise.race([b(this.state),this.waitForEndOrUndoClick()])];case 1:return a.sent(),this.endFlag?[4,this.end()]:[3,3];case 2:return a.sent(),[2];case 3:return v(this.state.legalMoves)?[3,4]:v(e=y(-this.state.player,this.state.chessboardData))?(alert("".concat(this.state.player===i.First?"Black":"White"," is out of move.")),this.state={player:-this.state.player,chessboardData:this.state.chessboardData,legalMoves:e},[3,10]):[3,16];case 4:return t=this.state.player===i.First?this.firstPlayer:this.secondPlayer,[4,Promise.race([t.play(this.state),this.waitForEndOrUndoClick()])];case 5:return n=a.sent(),this.endFlag?[4,this.end()]:[3,7];case 6:return a.sent(),[2];case 7:return this.undoFlag?[4,this.undo()]:[3,9];case 8:return a.sent(),[3,3];case 9:t.undoable&&(this.stateHistory.push(this.state),u.disabled=!1),r=function(e){for(var t=new Array(8),n=0;n<8;++n)t[n]=o([],e[n],!0);return t}(this.state.chessboardData),function(e,t,n){function r(r,a){var o=n[0],s=n[1];do{if(s+=a,!(0<=(o+=r)&&o<8&&0<=s&&s<8&&t[o][s]!==i.None))return}while(t[o][s]!==e);for(;s-=a,(o-=r)!==n[0]||s!==n[1];)t[o][s]=-t[o][s]}t[n[0]][n[1]]=e;for(var a=-1;a<=1;++a)for(var o=-1;o<=1;++o)0===a&&0===o||r(a,o)}(this.state.player,r,n),this.state={player:-this.state.player,chessboardData:r,legalMoves:y(-this.state.player,r)},a.label=10;case 10:return[4,Promise.race([b(this.state),this.waitForEndOrUndoClick()])];case 11:return a.sent(),this.endFlag?[4,this.end()]:[3,13];case 12:return a.sent(),[2];case 13:return this.undoFlag?[4,this.undo()]:[3,15];case 14:return a.sent(),[3,3];case 15:return[3,3];case 16:for(s=0,c=0,l=this.state.chessboardData;c<l.length;c++)for(d=l[c],f=0,p=d;f<p.length;f++)h=p[f],s+=h;m="Game over! ",m+=s>0?"Black is the winner.":s<0?"White is the winner.":"The game is a tie.",alert(m),u.disabled=!0,a.label=17;case 17:return[4,this.waitForEndOrUndoClick()];case 18:return a.sent(),this.endFlag?[4,this.end()]:[3,20];case 19:return a.sent(),[2];case 20:return[3,17];case 21:return[2]}}))}))},e}();function g(e){e.player,e.chessboardData;var t=e.legalMoves;return new Promise((function(e){h.push((function(n,r){return!!t[n][r]&&(e([n,r]),!0)}))}))}function w(e,t,n,o,i,c,l){var u=e.player,d=e.chessboardData;return e.legalMoves,r(this,void 0,void 0,(function(){var e,r,f,p,h,b;return a(this,(function(a){switch(a.label){case 0:for(e=new Int8Array(64),r=0,f=0;f<8;++f)for(p=0;p<8;++p,++r)e[r]=d[f][p];return[4,s];case 1:return h=a.sent().play(u,e,t,n,o,i,c,l),b=h%8,[2,[Math.round((h-b)/8),b]]}}))}))}function x(e){switch(e){case"cpu-easy":return{undoable:!1,play:function(e){return w(e,4,!0,!1,!1,!1,!0)}};case"cpu-normal":return{undoable:!1,play:function(e){return w(e,6,!0,!1,!1,!0,!0)}};case"cpu-hard":return{undoable:!1,play:function(e){return w(e,8,!0,!0,!0,!0,!0)}};default:return{undoable:!0,play:g}}}c.onclick=function(){return r(void 0,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return e=x(d.value),t=x(f.value),[4,new m(e,t).run()];case 1:return n.sent(),[2]}}))}))}},121:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.r(t),n.d(t,{play:()=>a.h});var a=n(289),o=e([a]);a=(o.then?(await o)():o)[0],r()}catch(e){r(e)}}))},289:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{h:()=>l});var a=n(731),o=e([a]);let i;a=(o.then?(await o)():o)[0];let s=0;function c(e,t){const n=t(1*e.length);return(0===i.byteLength&&(i=new Uint8Array(a.memory.buffer)),i).set(e,n/1),s=e.length,n}function l(e,t,n,r,o,i,l,u){const d=c(t,a.__wbindgen_malloc),f=s;return a.play(e,d,f,n,r,o,i,l,u)>>>0}i=new Uint8Array(a.memory.buffer),r()}catch(u){r(u)}}))},731:(e,t,n)=>{e.exports=n.v(t,e.id,"e948746c7bf612330aed")}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,exports:{}};return a[e].call(n.exports,n,n.exports,i),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},i.a=(a,o,i)=>{var s;i&&((s=[]).d=1),s&&(s.moduleId=a.id);var c,l,u,d=new Set,f=a.exports,p=new Promise(((e,t)=>{u=t,l=e}));p[t]=f,p[e]=e=>(s&&e(s),d.forEach(e),p.catch((e=>{}))),p.moduleId=a.id,a.exports=p,o((a=>{var o;c=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var o=[];o.d=0,a.then((e=>{i[t]=e,r(o)}),(e=>{i[n]=e,r(o)}));var i={};return i[e]=e=>e(o),i}}var s={};return s[e]=e=>{},s[t]=a,s})))(a);var i=()=>c.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(o=()=>t(i)).r=0;var n=e=>e!==s&&!d.has(e)&&(d.add(e),e&&!e.d&&(o.r++,e.push(o)));c.map((t=>t[e](n)))}));return o.r?l:i()}),(e=>(e?u(p[n]=e):l(f),r(s)))),s&&(s.d=0)},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.v=(e,t,n,r)=>{var a=fetch(i.p+""+n+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(a,r).then((t=>Object.assign(e,t.instance.exports))):a.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,r))).then((t=>Object.assign(e,t.instance.exports)))},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i.nc=void 0,i(519)})();